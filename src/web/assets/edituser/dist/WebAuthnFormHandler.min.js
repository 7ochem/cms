"use strict";class WebAuthnFormHandler{constructor(){$("#attach-webauthn").on("click",a=>{a.stopImmediatePropagation();const t=$(a.target),e={challenge:Uint8Array.from(t.data("challenge"),a=>a.charCodeAt(0)),rp:{id:window.location.hostname,name:t.data("rp-name")},user:{displayName:t.data("display-name"),name:t.data("name"),id:Uint8Array.from(t.data("uid"),a=>a.charCodeAt(0))},pubKeyCredParams:[{alg:-7,type:"public-key"}],timeout:6e4};return this.createCredentials(e).then(a=>{const t={credentialId:a.id,attestationObject:btoa(String.fromCharCode(...new Uint8Array(a.response.attestationObject))),clientDataJSON:btoa(String.fromCharCode(...new Uint8Array(a.response.clientDataJSON)))};console.log(t)}),!1})}async createCredentials(a){const t=await navigator.credentials.create({publicKey:a}).catch(a=>{alert(a)});if(!t)throw"Failed to create credentials";return t}}new WebAuthnFormHandler;
//# sourceMappingURL=WebAuthnFormHandler.min.js.map
