!function(){var $;$=jQuery,Craft.FeedWidget=Garnish.Base.extend({$widget:null,init:function init(widgetId,url,limit){var _this=this;this.$widget=$("#widget"+widgetId),this.$widget.addClass("loading"),axios.get("https://feed-proxy.craftcms.com/",{params:{url:url}}).then((function(response){_this.$widget.removeClass("loading"),_this.$widget.find("table").attr("dir",response.data.direction);for(var $tds=_this.$widget.find("td"),items=response.data.items||[],i=0;i<items.length;i++){var item=items[i],$td=$($tds[i]),widgetHtml=$("<a/>",{href:item.permalink,target:"_blank",text:item.title}).get(0).outerHTML+" ";item.date&&(widgetHtml+='<span class="light nowrap">'+Craft.formatDate(item.date)+"</span>"),$td.html(widgetHtml)}Craft.sendActionRequest("POST","dashboard/cache-feed-data",{data:{url:url,data:response.data}})})).catch((function(){_this.$widget.removeClass("loading"),Craft.cp.displayError(Craft.t("app","Could not load the feed"))}))}})}();
//# sourceMappingURL=FeedWidget.min.js.map