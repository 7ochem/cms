!function(){var $;$=jQuery,Craft.EntryTypeSwitcher=Garnish.Base.extend({$typeSelect:null,$spinner:null,init:function init(){this.$typeSelect=$("#entryType"),this.$spinner=$('<div class="spinner hidden"/>').insertAfter(this.$typeSelect.parent()),this.addListener(this.$typeSelect,"change","onTypeChange")},onTypeChange:function onTypeChange(ev){var _this=this;this.$spinner.removeClass("hidden"),Craft.postActionRequest("entries/switch-entry-type",Craft.cp.$primaryForm.serialize(),(function(response,textStatus){if(_this.$spinner.addClass("hidden"),"success"===textStatus){_this.trigger("beforeTypeChange");var $tabs=$("#tabs");if(response.tabsHtml)if($tabs.length)$tabs.replaceWith(response.tabsHtml);else{var $contentHeader=$("<header/>",{id:"content-header",class:"pane-header"}).prependTo($("#content"));$(response.tabsHtml).appendTo($contentHeader).attr("id","tabs")}else $("#content-header").remove();Craft.cp.initTabs(),$("#fields").html(response.fieldsHtml),Craft.initUiElements($("#fields")),Craft.appendHeadHtml(response.headHtml),Craft.appendFootHtml(response.bodyHtml),"undefined"!=typeof slugGenerator&&slugGenerator.setNewSource("#title"),_this.trigger("typeChange")}}))}})}();
//# sourceMappingURL=EntryTypeSwitcher.min.js.map