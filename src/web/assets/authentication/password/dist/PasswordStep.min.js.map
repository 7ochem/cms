{"version":3,"sources":["authentication/password/src/PasswordStep.js"],"names":["PasswordStep","AuthenticationStep","constructor","this","passwordSelector","Craft","$newPasswordInput","onToggleInput","off","getPasswordInput","replaceWith","bind","$loginForm","on","onInput","validate","passwordLength","val","length","window","t","minPasswordLength","attribute","maxPasswordLength","returnFormData","password","find"],"mappings":"AAAA,aACA,MAAMA,qBAAqBC,mBAA3BC,cACIA,MAAW,yCACPC,KAAMC,iBAAA,YACN,IAAKA,MAAAA,cAAmBD,KAAAC,iBAAxB,CACIC,cAAoBC,IACpBC,KAAgBD,mBAADE,IAAuB,SAC7BC,KAAAA,mBAAuBC,YAA5BJ,GACKG,KAAAA,mBAAmBC,GAAxB,QAAoCJ,KAAAA,QAApCK,KAAAR,UAHRA,KAAAS,WAAAC,GAAA,QAAAV,KAAAC,iBAAAD,KAAAW,QAAAH,KAAAR,OAQHY,WAEG,MAAMC,EAAiBb,KAAKM,mBAAmBQ,MAAMC,OAArD,OAAMF,EAAiBG,OAAKV,kBAGjBJ,MAAMe,EAAE,MAAO,qGAAsG,CAD5HJ,UAAiBG,MAAOE,EAAAA,MAAAA,YAEpBC,IAAWjB,OAAQgB,sBAK3BL,EAAAG,OAAAI,oBAEWlB,MAAMe,EAAE,MAAO,oGAAqG,CACvHE,UAAWjB,MAAMe,EAAE,MAAO,YADvBf,IAAQc,OAAOI,oBAKzBC,iBAID,MAAO,CAHAC,SAAPtB,KAAAM,mBAAAQ,OAEJO,mBACI,OAAOrB,KAAAS,WAAAc,KAAAvB,KAAAC,mBAGV,IAAAJ","file":"PasswordStep.min.js","sourcesContent":["\"use strict\";\nclass PasswordStep extends AuthenticationStep {\n    constructor() {\n        super('craft\\\\authentication\\\\type\\\\Password');\n        this.passwordSelector = '#password';\n        new Craft.PasswordInput(this.passwordSelector, {\n            onToggleInput: ($newPasswordInput) => {\n                this.getPasswordInput().off('input');\n                this.getPasswordInput().replaceWith($newPasswordInput);\n                this.getPasswordInput().on('input', this.onInput.bind(this));\n            }\n        });\n        this.$loginForm.on('input', this.passwordSelector, this.onInput.bind(this));\n    }\n    validate() {\n        const passwordLength = this.getPasswordInput().val().length;\n        // @ts-ignore\n        if (passwordLength < window.minPasswordLength) {\n            return Craft.t('yii', '{attribute} should contain at least {min, number} {min, plural, one{character} other{characters}}.', {\n                attribute: Craft.t('app', 'Password'),\n                // @ts-ignore\n                min: window.minPasswordLength,\n            });\n        }\n        // @ts-ignore\n        if (passwordLength > window.maxPasswordLength) {\n            return Craft.t('yii', '{attribute} should contain at most {max, number} {max, plural, one{character} other{characters}}.', {\n                attribute: Craft.t('app', 'Password'),\n                // @ts-ignore\n                max: window.maxPasswordLength,\n            });\n        }\n        return true;\n    }\n    returnFormData() {\n        return {\n            password: this.getPasswordInput().val(),\n        };\n    }\n    getPasswordInput() {\n        return this.$loginForm.find(this.passwordSelector);\n    }\n}\nnew PasswordStep();\n"]}