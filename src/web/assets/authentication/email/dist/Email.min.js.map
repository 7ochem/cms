{"version":3,"sources":["authentication/email/src/Email.js"],"names":["Email","constructor","$email","$","this","Craft","validateOnInput","registerStepHandler","prepareData","bind","parents","length","validate","val","emailAddress","t","onInput","ev","LoginForm","clearErrors","error","email"],"mappings":"AAAA,aACA,MAAMA,MAANC,cACIA,KAAWC,OAAGC,EAAA,UACVC,KAAKF,iBAAL,EACAG,MAAKC,UAALC,oBAAAH,KAAAI,YAAAC,KAAAL,MAAAA,KAAAF,OAAAQ,QAAA,uBAAAC,OAAA,GAEHC,WACDA,OAAW,IACcR,KAAKF,OAAOW,MAD1BF,QACDG,MAAeC,EAAA,MAAKb,sCAGzBc,QAAAC,GAIGb,KAAKE,kBAAuC,IAApBF,KAAKQ,YAH1BP,MAAPa,UAAAC,cAEJH,YAAYC,GACJ,MAAKX,EAAAA,KAAAA,WACLD,OAAgBc,IAAVD,GACTd,KAAAE,iBAAA,EACJc,IACDZ,KAAWF,iBAAK,EACD,CAOPe,MAASjB,KAAKF,OAAOW,SAHxB,IAAAb","file":"Email.min.js","sourcesContent":["\"use strict\";\nclass Email {\n    constructor() {\n        this.$email = $('#email');\n        this.validateOnInput = false;\n        Craft.LoginForm.registerStepHandler(this.prepareData.bind(this), this.$email.parents('#recovery-container').length > 0);\n    }\n    validate() {\n        const emailAddress = this.$email.val();\n        if (emailAddress.length === 0) {\n            return Craft.t('app', 'Please enter a valid email address');\n        }\n        return true;\n    }\n    onInput(ev) {\n        if (this.validateOnInput && this.validate() === true) {\n            Craft.LoginForm.clearErrors();\n        }\n    }\n    prepareData(ev) {\n        const error = this.validate();\n        if (error !== true) {\n            this.validateOnInput = true;\n            return error;\n        }\n        this.validateOnInput = false;\n        return {\n            \"email\": this.$email.val(),\n        };\n    }\n}\nnew Email();\n"]}