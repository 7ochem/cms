{"version":3,"sources":["authentication/email/src/Email.js"],"names":["Email","constructor","$email","$","this","Craft","validateOnInput","registerStepHandler","prepareData","bind","validate","val","length","verificationCode","onInput","ev","LoginForm","clearErrors","error","email"],"mappings":"AAAA,aACA,MAAMA,MAANC,cACIA,KAAWC,OAAGC,EAAA,UACVC,KAAKF,iBAAL,EACAG,MAAKC,UAALC,oBAAAH,KAAAI,YAAAC,KAAAL,OAAA,GAEHM,WACDA,OAAW,IACkBN,KAAKF,OAAOS,MAD9BC,QACDC,MAAAA,EAAgB,MAAQX,sCAG7BY,QAAAC,GAIGX,KAAKE,kBAAuC,IAApBF,KAAKM,YAH1BL,MAAPW,UAAAC,cAEJH,YAAYC,GACJ,MAAKT,EAAAA,KAAAA,WACLD,OAAgBY,IAAVD,GACTZ,KAAAE,iBAAA,EACJY,IACDV,KAAWF,iBAAK,EACD,CAOPa,MAASf,KAAKF,OAAOS,SAHxB,IAAAX","file":"Email.min.js","sourcesContent":["\"use strict\";\nclass Email {\n    constructor() {\n        this.$email = $('#email');\n        this.validateOnInput = false;\n        Craft.LoginForm.registerStepHandler(this.prepareData.bind(this), true);\n    }\n    validate() {\n        const verificationCode = this.$email.val();\n        if (verificationCode.length === 0) {\n            return Craft.t('app', 'Please enter a valid email address');\n        }\n        return true;\n    }\n    onInput(ev) {\n        if (this.validateOnInput && this.validate() === true) {\n            Craft.LoginForm.clearErrors();\n        }\n    }\n    prepareData(ev) {\n        const error = this.validate();\n        if (error !== true) {\n            this.validateOnInput = true;\n            return error;\n        }\n        this.validateOnInput = false;\n        return {\n            \"email\": this.$email.val(),\n        };\n    }\n}\nnew Email();\n"]}