{"version":3,"sources":["authentication/chain/src/AuthenticationStep.js"],"names":["AuthenticationStep","constructor","validateOnInput","this","stepType","Craft","registerStepHandler","prepareData","bind","AuthenticationChainHandler","onInput","ev","validate","clearErrors","[object Object]","error","data","returnFormData"],"mappings":"AAAA,aACA,MAAMA,mBAANC,YAAMD,GACFC,KAAWC,iBAAW,EAClBC,KAAKD,SAALE,EACAC,MAAKD,2BAALE,oBAAAF,EAAAD,KAAAI,YAAAC,KAAAL,OACAE,KAAMI,WAAAA,MAAAA,2BAA+CL,aAAeG,WAK5EG,QAAAC,GAEYR,KAAKD,kBAAuC,IAApBC,KAAKS,YAC7BP,MAAMI,2BAA2BI,cAI7CC,oBACA,MAAAC,EAAAZ,KAAAS,WACA,IAAA,IAAAG,EAKY,MADAZ,KAAKD,iBAAkB,EACjBa,EAHVZ,KAAMY,iBAAQ,EAMd,IAAIC,QAAab,KAAKc,iBAJlB,OADAF,EAAKX,SAAWD,KAAAC,SACXF","file":"AuthenticationStep.min.js","sourcesContent":["\"use strict\";\nclass AuthenticationStep {\n    constructor(stepType) {\n        this.validateOnInput = false;\n        this.stepType = stepType;\n        Craft.AuthenticationChainHandler.registerStepHandler(stepType, this.prepareData.bind(this));\n        this.$loginForm = Craft.AuthenticationChainHandler.loginHandler.$loginForm;\n    }\n    /**\n     * @param ev\n     */\n    onInput(ev) {\n        if (this.validateOnInput && this.validate() === true) {\n            Craft.AuthenticationChainHandler.clearErrors();\n        }\n    }\n    /**\n     *\n     * @param ev\n     */\n    async prepareData() {\n        const error = this.validate();\n        if (error !== true) {\n            this.validateOnInput = true;\n            throw error;\n        }\n        this.validateOnInput = false;\n        let data = await this.returnFormData();\n        data.stepType = this.stepType;\n        return data;\n    }\n}\n"]}