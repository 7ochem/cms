{"version":3,"sources":["authentication/chain/src/AuthenticationStep.js"],"names":["AuthenticationStep","constructor","validateOnInput","this","stepType","Craft","registerAuthenticationStep","AuthenticationChainHandler","$loginForm","loginForm","$submit","doInit","init","onInput","ev","validate","cleanup","clearErrors","[object Object]","error","data","returnFormData"],"mappings":"AAAA,aACA,MAAMA,mBAANC,YAAMD,GACFC,KAAWC,iBAAW,EAClBC,KAAKD,SAALE,EACAC,MAAKD,2BAALE,2BAAAF,EAAAD,MACAE,KAAME,SAETC,iBAAA,OAAAH,MAAAE,2BAAAE,UAAAD,WAEDE,cAAgB,OAAOL,MAAME,2BAA2BE,UAAUC,QADlEC,SAAmBR,KAAOE,UAAwDF,KAAAS,OASlFC,QAAQC,GAPCX,KAAAD,kBAAA,IAAAC,KAAAY,YACAC,MAALT,2BAAAU,cAeJC,oBATAL,MAAYM,EAAAhB,KAAAY,WACJ,IAAKb,IAALiB,EAEH,MADSZ,KAAAA,iBAAAA,EACTY,EAELhB,KAAAD,iBAAA,EACJ,IAAAkB,QAAAjB,KAAAkB,iBAEA,OADAD,EAAAhB,SAAAD,KAAAC,SACAgB","file":"AuthenticationStep.min.js","sourcesContent":["\"use strict\";\nclass AuthenticationStep {\n    constructor(stepType) {\n        this.validateOnInput = false;\n        this.stepType = stepType;\n        Craft.AuthenticationChainHandler.registerAuthenticationStep(stepType, this);\n        this.doInit();\n    }\n    get $loginForm() { return Craft.AuthenticationChainHandler.loginForm.$loginForm; }\n    get $submit() { return Craft.AuthenticationChainHandler.loginForm.$submit; }\n    doInit() {\n        this.cleanup();\n        this.init();\n    }\n    /**\n     * @param ev\n     */\n    onInput(ev) {\n        if (this.validateOnInput && this.validate() === true) {\n            Craft.AuthenticationChainHandler.clearErrors();\n        }\n    }\n    /**\n     *\n     * @param ev\n     */\n    async prepareData() {\n        const error = this.validate();\n        if (error !== true) {\n            this.validateOnInput = true;\n            throw error;\n        }\n        this.validateOnInput = false;\n        let data = await this.returnFormData();\n        data.stepType = this.stepType;\n        return data;\n    }\n}\n"]}