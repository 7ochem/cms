{"version":3,"sources":["authentication/chain/src/AuthenticationStep.js"],"names":["AuthenticationStep","constructor","validateOnInput","this","stepType","Craft","registerStepHandler","prepareData","bind","AuthenticationChainHandler","$loginForm","loginHandler","onInput","ev","validate","clearErrors","[object Object]","error","data","returnFormData"],"mappings":"AAAA,aACA,MAAMA,mBAANC,YAAMD,GACFC,KAAWC,iBAAW,EAClBC,KAAKD,SAALE,EACAC,MAAKD,2BAALE,oBAAAF,EAAAD,KAAAI,YAAAC,KAAAL,OACAE,KAAMI,WAAAA,MAAAA,2BAA+CL,aAAeG,WACpEJ,KAAKO,QAAaL,MAAMI,2BAA2BE,aAAaD,QAKxEE,QAAAC,GAEYV,KAAKD,kBAAuC,IAApBC,KAAKW,YAC7BT,MAAMI,2BAA2BM,cAI7CC,oBACA,MAAAC,EAAAd,KAAAW,WACA,IAAA,IAAAG,EAKY,MADAd,KAAKD,iBAAkB,EACjBe,EAHVd,KAAMc,iBAAQ,EAMd,IAAIC,QAAaf,KAAKgB,iBAJlB,OADAF,EAAKb,SAAWD,KAAAC,SACXF","file":"AuthenticationStep.min.js","sourcesContent":["\"use strict\";\nclass AuthenticationStep {\n    constructor(stepType) {\n        this.validateOnInput = false;\n        this.stepType = stepType;\n        Craft.AuthenticationChainHandler.registerStepHandler(stepType, this.prepareData.bind(this));\n        this.$loginForm = Craft.AuthenticationChainHandler.loginHandler.$loginForm;\n        this.$submit = Craft.AuthenticationChainHandler.loginHandler.$submit;\n    }\n    /**\n     * @param ev\n     */\n    onInput(ev) {\n        if (this.validateOnInput && this.validate() === true) {\n            Craft.AuthenticationChainHandler.clearErrors();\n        }\n    }\n    /**\n     *\n     * @param ev\n     */\n    async prepareData() {\n        const error = this.validate();\n        if (error !== true) {\n            this.validateOnInput = true;\n            throw error;\n        }\n        this.validateOnInput = false;\n        let data = await this.returnFormData();\n        data.stepType = this.stepType;\n        return data;\n    }\n}\n"]}