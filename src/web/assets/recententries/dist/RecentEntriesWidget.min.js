!function(){var $;$=jQuery,Craft.RecentEntriesWidget=Garnish.Base.extend({params:null,$widget:null,$body:null,$container:null,$tbody:null,hasEntries:null,init:function init(widgetId,params){this.params=params,this.$widget=$("#widget"+widgetId),this.$body=this.$widget.find(".body:first"),this.$container=this.$widget.find(".recententries-container:first"),this.$tbody=this.$container.find("tbody:first"),this.hasEntries=!!this.$tbody.length,this.$widget.data("widget").on("destroy",this.destroy.bind(this)),Craft.RecentEntriesWidget.instances.push(this)},addEntry:function addEntry(entry){this.$container.css("margin-top",0);var oldHeight=this.$container.height();if(!this.hasEntries){var $table=$('<table class="data fullwidth"/>').prependTo(this.$container);this.$tbody=$("<tbody/>").appendTo($table)}this.$tbody.prepend('<tr><td><a href="'+entry.url+'">'+Craft.escapeHtml(entry.title)+'</a> <span class="light">'+Craft.escapeHtml((entry.dateCreated?Craft.formatDate(entry.dateCreated):"")+(entry.dateCreated&&entry.username&&Craft.edition==Craft.Pro?", ":"")+(entry.username&&Craft.edition==Craft.Pro?entry.username:""))+"</span></td></tr>");var newHeight,heightDiff=this.$container.height()-oldHeight;this.$container.css("margin-top",-heightDiff);var props={"margin-top":0};this.hasEntries||(props["margin-bottom"]=-oldHeight,this.hasEntries=!0),this.$container.velocity(props)},destroy:function destroy(){Craft.RecentEntriesWidget.instances.splice($.inArray(this,Craft.RecentEntriesWidget.instances),1),this.base()}},{instances:[]})}();
//# sourceMappingURL=RecentEntriesWidget.min.js.map