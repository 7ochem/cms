{"version":3,"file":"elementfieldsettings.js","mappings":"YAAA,IAAWA,IA+ERC,OA5EDC,MAAMC,qBAAuBC,QAAQC,KAAKC,OAAO,CAC/CC,uBAAwB,KACxBC,cAAe,KACfC,kBAAmB,KACnBC,mBAAoB,KACpBC,mBAAoB,KAEpBC,KAAM,SACJC,EACAC,EACAC,EACAC,EACAC,GAEAC,KAAKX,uBAAyBP,EAAE,IAAMa,GACtCK,KAAKV,cAAgBR,EAAE,IAAD,OAAKc,IAC3BI,KAAKT,kBAAoBT,EAAE,IAAMe,GACjCG,KAAKP,mBAAqBX,EAAE,IAAMgB,GAClCE,KAAKR,mBAAqBV,EAAE,IAAMiB,GAElCC,KAAKC,oBACLD,KAAKE,YACHF,KAAKX,uBACL,SACA,qBAGEW,KAAKV,cAAca,SACrBH,KAAKI,6BACLJ,KAAKV,cAAce,KAAK,mBAAmBC,KACzC,SAAUC,EAAOC,GACfR,KAAKE,YACHpB,EAAE0B,GACF,SACA,6BAEH,EAACC,KAAKT,OAGZ,EACDC,kBAAmB,WACbD,KAAKX,uBAAuBqB,GAAG,aACjCV,KAAKP,mBAAmBkB,QAAQ,UAAUC,OAC1CZ,KAAKR,mBAAmBmB,QAAQ,UAAUC,OAC1CZ,KAAKT,kBAAkBoB,QAAQ,UAAUE,SAEzCb,KAAKT,kBAAkBoB,QAAQ,UAAUC,OACzCZ,KAAKP,mBAAmBkB,QAAQ,UAAUE,OAC1Cb,KAAKR,mBAAmBmB,QAAQ,UAAUE,OAE7C,EACDT,2BAA4B,WAC1B,IACIU,GAAe,EADCd,KAAKV,cAAce,KAAK,6BAG1BF,OAAS,IACzBW,GAAe,GAGbA,GACFd,KAAKX,uBAAuB0B,KAAK,YAAY,GAC7Cf,KAAKX,uBACFsB,QAAQ,UACRN,KAAK,iBACLW,SAAS,YACZhB,KAAKX,uBAAuB0B,KAAK,WAAW,GAC5Cf,KAAKX,uBAAuB4B,QAAQ,YAEpCjB,KAAKX,uBAAuB0B,KAAK,YAAY,GAC7Cf,KAAKX,uBACFsB,QAAQ,UACRN,KAAK,iBACLa,YAAY,YAElB,G","sources":["webpack:///./ElementFieldSettings.js"],"sourcesContent":["(function ($) {\n  /** global: Craft */\n  /** global: Garnish */\n  Craft.ElementFieldSettings = Garnish.Base.extend({\n    $relatedAncestorsInput: null,\n    $sourcesInput: null,\n    $branchLimitInput: null,\n    $maxRelationsInput: null,\n    $minRelationsInput: null,\n\n    init: function (\n      relateAncestorsId,\n      sourcesId,\n      branchLimitId,\n      minRelationsId,\n      maxRelationsId\n    ) {\n      this.$relatedAncestorsInput = $('#' + relateAncestorsId);\n      this.$sourcesInput = $(`#${sourcesId}`);\n      this.$branchLimitInput = $('#' + branchLimitId);\n      this.$minRelationsInput = $('#' + minRelationsId);\n      this.$maxRelationsInput = $('#' + maxRelationsId);\n\n      this.updateLimitFields();\n      this.addListener(\n        this.$relatedAncestorsInput,\n        'change',\n        'updateLimitFields'\n      );\n\n      if (this.$sourcesInput.length) {\n        this.updateRelateAncestorsField();\n        this.$sourcesInput.find('[type=checkbox]').each(\n          function (index, checkbox) {\n            this.addListener(\n              $(checkbox),\n              'change',\n              'updateRelateAncestorsField'\n            );\n          }.bind(this)\n        );\n      }\n    },\n    updateLimitFields: function () {\n      if (this.$relatedAncestorsInput.is(':checked')) {\n        this.$minRelationsInput.closest('.field').hide();\n        this.$maxRelationsInput.closest('.field').hide();\n        this.$branchLimitInput.closest('.field').show();\n      } else {\n        this.$branchLimitInput.closest('.field').hide();\n        this.$minRelationsInput.closest('.field').show();\n        this.$maxRelationsInput.closest('.field').show();\n      }\n    },\n    updateRelateAncestorsField: function () {\n      let checkedInputs = this.$sourcesInput.find('[type=\"checkbox\"]:checked');\n      let disableInput = false;\n\n      if (checkedInputs.length > 1) {\n        disableInput = true;\n      }\n\n      if (disableInput) {\n        this.$relatedAncestorsInput.prop('disabled', true);\n        this.$relatedAncestorsInput\n          .closest('.field')\n          .find('.instructions')\n          .addClass('disabled');\n        this.$relatedAncestorsInput.prop('checked', false);\n        this.$relatedAncestorsInput.trigger('change');\n      } else {\n        this.$relatedAncestorsInput.prop('disabled', false);\n        this.$relatedAncestorsInput\n          .closest('.field')\n          .find('.instructions')\n          .removeClass('disabled');\n      }\n    },\n  });\n})(jQuery);\n"],"names":["$","jQuery","Craft","ElementFieldSettings","Garnish","Base","extend","$relatedAncestorsInput","$sourcesInput","$branchLimitInput","$maxRelationsInput","$minRelationsInput","init","relateAncestorsId","sourcesId","branchLimitId","minRelationsId","maxRelationsId","this","updateLimitFields","addListener","length","updateRelateAncestorsField","find","each","index","checkbox","bind","is","closest","hide","show","disableInput","prop","addClass","trigger","removeClass"],"sourceRoot":""}