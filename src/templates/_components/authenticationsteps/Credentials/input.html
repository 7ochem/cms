{% import "_includes/forms" as forms %}

{% do view.registerAssetBundle("craft\\web\\assets\\authentication\\credentials\\CredentialsAsset") %}

{% set username = craft.app.config.general.rememberUsernameDuration ? craft.app.user.getRememberedUsername(): '' %}
{% set showRememberMe = craft.app.config.general.rememberedUserSessionDuration %}

{% if craft.app.config.general.useEmailAsUsername %}
    {% set usernameLabel = 'Email'|t('app') %}
    {% set usernameType = 'email' %}
{% else %}
    {% set usernameLabel = 'Username or Email'|t('app') %}
    {% set usernameType = 'text' %}
{% endif %}

<div id="login-form-top">
    {{ forms.textField({
        id: 'loginName',
        name: 'username',
        placeholder: usernameLabel,
        value: username,
        autocomplete: 'username',
        type: usernameType,
        inputAttributes: {
            aria: {
                label: usernameLabel,
                required: 'true',
            },
        },
    }) }}

    {{ forms.passwordField({
        id: 'password',
        name: 'password',
        placeholder: 'Password'|t('app'),
        autocomplete: 'current-password',
        inputAttributes: {
            aria: {
                label: 'Password'|t('app'),
                required: 'true',
            },
        },
    }) }}
</div>
