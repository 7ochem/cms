{"version":3,"sources":["Sortable.js"],"names":["global","factory","exports","module","define","amd","self","Sortable","this","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","constructor","prototype","value","configurable","writable","_extends","assign","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","o","minLen","n","toString","slice","name","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","arr2","userAgent","pattern","window","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","el","event","fn","addEventListener","off","removeEventListener","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","_","getParentOrHost","host","document","nodeType","parentNode","closest","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","state","classList","className","replace","css","prop","val","style","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","find","tagName","list","getElementsByTagName","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","left","bottom","right","height","width","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","a","scaleY","d","isScrolledPast","elSide","parentSide","parent","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","options","includeDragEl","currentChild","children","display","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","index","nodeName","toUpperCase","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","body","isRectEqual","rect1","rect2","Math","round","throttle","callback","ms","args","_this","setTimeout","scrollBy","x","y","Polymer","$","jQuery","Zepto","dom","cloneNode","setRect","rect","unsetRect","expando","Date","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","child","fromRect","thisAnimationDuration","childMatrix","f","e","addAnimationState","removeAnimationState","splice","Number","indexOfObject","animateAll","clearTimeout","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","max","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","offsetWidth","repaint","easing","animated","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","option","p","pluginName","concat","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","charAt","substr","CustomEvent","createEvent","initEvent","bubbles","cancelable","to","item","pullMode","lastPutMode","undefined","allEventProperties","_excluded","data","bind","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","active","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","createElement","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","join","originalGroup","checkPull","checkPut","put","revertClone","preventDefault","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","clientX","clientY","some","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","ret","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","sort","disabled","store","handle","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","get","_onMove","dragRect","targetRect","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","str","src","href","sum","charCodeAt","_nextTick","_cancelNextTick","id","contains","_getDirection","type","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","inputs","idx","checked","_saveInputCheckedState","button","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","b","c","cssMatrix","appendChild","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","_ghostIsLast","changed","_ghostIsFirst","firstChild","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","removeChild","save","handleEvent","dropEffect","_globalDragOver","toArray","order","getAttribute","useAnimation","items","set","destroy","querySelectorAll","removeAttribute","utils","is","extend","dst","nextTick","cancelNextTick","detectDirection","element","_len","_key","create","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","lastSwapEl","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","onSpill","Revert","Remove","startIndex","dragStart","_ref2","_ref3","_ref4","parentSortable","lastMultiDragSelect","multiDragSortable","dragEl$1","clonesFromRect","clonesHidden","multiDragElements","multiDragClones","initialFolding","folding","insertMultiDragClones","elementsInserted","sortableIndex","removeMultiDragElements","multiDragElement","AutoScroll","forceAutoScrollFallback","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","dragOverBubble","nulling","ogElemScroller","newElem","Swap","swapClass","dragOverValid","swap","prevSwapEl","n1","n2","i1","i2","p1","p2","isEqualNode","swapNodes","swapItem","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","selectedClass","multiDragKey","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","_this2","dragOver","_ref8","_ref9","clonesInserted","insertMultiDragElements","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","originalEvt","shiftKey","lastIndex","currentIndex","multiDragIndex","update","nullingGlobal","destroyGlobal","shift","select","deselect","_this3","oldIndicies","newIndicies","clones","toLowerCase"],"mappings":"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","file":"Sortable.js","sourcesContent":["/**!\n * Sortable 1.14.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Sortable = factory());\n}(this, (function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var version = \"1.14.0\";\n\n  function userAgent(pattern) {\n    if (typeof window !== 'undefined' && window.navigator) {\n      return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n    }\n  }\n\n  var IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\n  var Edge = userAgent(/Edge/i);\n  var FireFox = userAgent(/firefox/i);\n  var Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\n  var IOS = userAgent(/iP(ad|od|hone)/i);\n  var ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\n  var captureMode = {\n    capture: false,\n    passive: false\n  };\n\n  function on(el, event, fn) {\n    el.addEventListener(event, fn, !IE11OrLess && captureMode);\n  }\n\n  function off(el, event, fn) {\n    el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n  }\n\n  function matches(\n  /**HTMLElement*/\n  el,\n  /**String*/\n  selector) {\n    if (!selector) return;\n    selector[0] === '>' && (selector = selector.substring(1));\n\n    if (el) {\n      try {\n        if (el.matches) {\n          return el.matches(selector);\n        } else if (el.msMatchesSelector) {\n          return el.msMatchesSelector(selector);\n        } else if (el.webkitMatchesSelector) {\n          return el.webkitMatchesSelector(selector);\n        }\n      } catch (_) {\n        return false;\n      }\n    }\n\n    return false;\n  }\n\n  function getParentOrHost(el) {\n    return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n  }\n\n  function closest(\n  /**HTMLElement*/\n  el,\n  /**String*/\n  selector,\n  /**HTMLElement*/\n  ctx, includeCTX) {\n    if (el) {\n      ctx = ctx || document;\n\n      do {\n        if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n          return el;\n        }\n\n        if (el === ctx) break;\n        /* jshint boss:true */\n      } while (el = getParentOrHost(el));\n    }\n\n    return null;\n  }\n\n  var R_SPACE = /\\s+/g;\n\n  function toggleClass(el, name, state) {\n    if (el && name) {\n      if (el.classList) {\n        el.classList[state ? 'add' : 'remove'](name);\n      } else {\n        var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n        el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n      }\n    }\n  }\n\n  function css(el, prop, val) {\n    var style = el && el.style;\n\n    if (style) {\n      if (val === void 0) {\n        if (document.defaultView && document.defaultView.getComputedStyle) {\n          val = document.defaultView.getComputedStyle(el, '');\n        } else if (el.currentStyle) {\n          val = el.currentStyle;\n        }\n\n        return prop === void 0 ? val : val[prop];\n      } else {\n        if (!(prop in style) && prop.indexOf('webkit') === -1) {\n          prop = '-webkit-' + prop;\n        }\n\n        style[prop] = val + (typeof val === 'string' ? '' : 'px');\n      }\n    }\n  }\n\n  function matrix(el, selfOnly) {\n    var appliedTransforms = '';\n\n    if (typeof el === 'string') {\n      appliedTransforms = el;\n    } else {\n      do {\n        var transform = css(el, 'transform');\n\n        if (transform && transform !== 'none') {\n          appliedTransforms = transform + ' ' + appliedTransforms;\n        }\n        /* jshint boss:true */\n\n      } while (!selfOnly && (el = el.parentNode));\n    }\n\n    var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n    /*jshint -W056 */\n\n    return matrixFn && new matrixFn(appliedTransforms);\n  }\n\n  function find(ctx, tagName, iterator) {\n    if (ctx) {\n      var list = ctx.getElementsByTagName(tagName),\n          i = 0,\n          n = list.length;\n\n      if (iterator) {\n        for (; i < n; i++) {\n          iterator(list[i], i);\n        }\n      }\n\n      return list;\n    }\n\n    return [];\n  }\n\n  function getWindowScrollingElement() {\n    var scrollingElement = document.scrollingElement;\n\n    if (scrollingElement) {\n      return scrollingElement;\n    } else {\n      return document.documentElement;\n    }\n  }\n  /**\n   * Returns the \"bounding client rect\" of given element\n   * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n   * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n   * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n   * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n   * @param  {[HTMLElement]} container              The parent the element will be placed in\n   * @return {Object}                               The boundingClientRect of el, with specified adjustments\n   */\n\n\n  function getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n    if (!el.getBoundingClientRect && el !== window) return;\n    var elRect, top, left, bottom, right, height, width;\n\n    if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n      elRect = el.getBoundingClientRect();\n      top = elRect.top;\n      left = elRect.left;\n      bottom = elRect.bottom;\n      right = elRect.right;\n      height = elRect.height;\n      width = elRect.width;\n    } else {\n      top = 0;\n      left = 0;\n      bottom = window.innerHeight;\n      right = window.innerWidth;\n      height = window.innerHeight;\n      width = window.innerWidth;\n    }\n\n    if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n      // Adjust for translate()\n      container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n      // Not needed on <= IE11\n\n      if (!IE11OrLess) {\n        do {\n          if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n            var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n            top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n            left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n            bottom = top + elRect.height;\n            right = left + elRect.width;\n            break;\n          }\n          /* jshint boss:true */\n\n        } while (container = container.parentNode);\n      }\n    }\n\n    if (undoScale && el !== window) {\n      // Adjust for scale()\n      var elMatrix = matrix(container || el),\n          scaleX = elMatrix && elMatrix.a,\n          scaleY = elMatrix && elMatrix.d;\n\n      if (elMatrix) {\n        top /= scaleY;\n        left /= scaleX;\n        width /= scaleX;\n        height /= scaleY;\n        bottom = top + height;\n        right = left + width;\n      }\n    }\n\n    return {\n      top: top,\n      left: left,\n      bottom: bottom,\n      right: right,\n      width: width,\n      height: height\n    };\n  }\n  /**\n   * Checks if a side of an element is scrolled past a side of its parents\n   * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n   * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n   * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n   * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n   */\n\n\n  function isScrolledPast(el, elSide, parentSide) {\n    var parent = getParentAutoScrollElement(el, true),\n        elSideVal = getRect(el)[elSide];\n    /* jshint boss:true */\n\n    while (parent) {\n      var parentSideVal = getRect(parent)[parentSide],\n          visible = void 0;\n\n      if (parentSide === 'top' || parentSide === 'left') {\n        visible = elSideVal >= parentSideVal;\n      } else {\n        visible = elSideVal <= parentSideVal;\n      }\n\n      if (!visible) return parent;\n      if (parent === getWindowScrollingElement()) break;\n      parent = getParentAutoScrollElement(parent, false);\n    }\n\n    return false;\n  }\n  /**\n   * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n   * and non-draggable elements\n   * @param  {HTMLElement} el       The parent element\n   * @param  {Number} childNum      The index of the child\n   * @param  {Object} options       Parent Sortable's options\n   * @return {HTMLElement}          The child at index childNum, or null if not found\n   */\n\n\n  function getChild(el, childNum, options, includeDragEl) {\n    var currentChild = 0,\n        i = 0,\n        children = el.children;\n\n    while (i < children.length) {\n      if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n        if (currentChild === childNum) {\n          return children[i];\n        }\n\n        currentChild++;\n      }\n\n      i++;\n    }\n\n    return null;\n  }\n  /**\n   * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n   * @param  {HTMLElement} el       Parent element\n   * @param  {selector} selector    Any other elements that should be ignored\n   * @return {HTMLElement}          The last child, ignoring ghostEl\n   */\n\n\n  function lastChild(el, selector) {\n    var last = el.lastElementChild;\n\n    while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n      last = last.previousElementSibling;\n    }\n\n    return last || null;\n  }\n  /**\n   * Returns the index of an element within its parent for a selected set of\n   * elements\n   * @param  {HTMLElement} el\n   * @param  {selector} selector\n   * @return {number}\n   */\n\n\n  function index(el, selector) {\n    var index = 0;\n\n    if (!el || !el.parentNode) {\n      return -1;\n    }\n    /* jshint boss:true */\n\n\n    while (el = el.previousElementSibling) {\n      if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n        index++;\n      }\n    }\n\n    return index;\n  }\n  /**\n   * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n   * The value is returned in real pixels.\n   * @param  {HTMLElement} el\n   * @return {Array}             Offsets in the format of [left, top]\n   */\n\n\n  function getRelativeScrollOffset(el) {\n    var offsetLeft = 0,\n        offsetTop = 0,\n        winScroller = getWindowScrollingElement();\n\n    if (el) {\n      do {\n        var elMatrix = matrix(el),\n            scaleX = elMatrix.a,\n            scaleY = elMatrix.d;\n        offsetLeft += el.scrollLeft * scaleX;\n        offsetTop += el.scrollTop * scaleY;\n      } while (el !== winScroller && (el = el.parentNode));\n    }\n\n    return [offsetLeft, offsetTop];\n  }\n  /**\n   * Returns the index of the object within the given array\n   * @param  {Array} arr   Array that may or may not hold the object\n   * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n   * @return {Number}      The index of the object in the array, or -1\n   */\n\n\n  function indexOfObject(arr, obj) {\n    for (var i in arr) {\n      if (!arr.hasOwnProperty(i)) continue;\n\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n      }\n    }\n\n    return -1;\n  }\n\n  function getParentAutoScrollElement(el, includeSelf) {\n    // skip to window\n    if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n    var elem = el;\n    var gotSelf = false;\n\n    do {\n      // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n      if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n        var elemCSS = css(elem);\n\n        if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n          if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n          if (gotSelf || includeSelf) return elem;\n          gotSelf = true;\n        }\n      }\n      /* jshint boss:true */\n\n    } while (elem = elem.parentNode);\n\n    return getWindowScrollingElement();\n  }\n\n  function extend(dst, src) {\n    if (dst && src) {\n      for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n          dst[key] = src[key];\n        }\n      }\n    }\n\n    return dst;\n  }\n\n  function isRectEqual(rect1, rect2) {\n    return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n  }\n\n  var _throttleTimeout;\n\n  function throttle(callback, ms) {\n    return function () {\n      if (!_throttleTimeout) {\n        var args = arguments,\n            _this = this;\n\n        if (args.length === 1) {\n          callback.call(_this, args[0]);\n        } else {\n          callback.apply(_this, args);\n        }\n\n        _throttleTimeout = setTimeout(function () {\n          _throttleTimeout = void 0;\n        }, ms);\n      }\n    };\n  }\n\n  function cancelThrottle() {\n    clearTimeout(_throttleTimeout);\n    _throttleTimeout = void 0;\n  }\n\n  function scrollBy(el, x, y) {\n    el.scrollLeft += x;\n    el.scrollTop += y;\n  }\n\n  function clone(el) {\n    var Polymer = window.Polymer;\n    var $ = window.jQuery || window.Zepto;\n\n    if (Polymer && Polymer.dom) {\n      return Polymer.dom(el).cloneNode(true);\n    } else if ($) {\n      return $(el).clone(true)[0];\n    } else {\n      return el.cloneNode(true);\n    }\n  }\n\n  function setRect(el, rect) {\n    css(el, 'position', 'absolute');\n    css(el, 'top', rect.top);\n    css(el, 'left', rect.left);\n    css(el, 'width', rect.width);\n    css(el, 'height', rect.height);\n  }\n\n  function unsetRect(el) {\n    css(el, 'position', '');\n    css(el, 'top', '');\n    css(el, 'left', '');\n    css(el, 'width', '');\n    css(el, 'height', '');\n  }\n\n  var expando = 'Sortable' + new Date().getTime();\n\n  function AnimationStateManager() {\n    var animationStates = [],\n        animationCallbackId;\n    return {\n      captureAnimationState: function captureAnimationState() {\n        animationStates = [];\n        if (!this.options.animation) return;\n        var children = [].slice.call(this.el.children);\n        children.forEach(function (child) {\n          if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n          animationStates.push({\n            target: child,\n            rect: getRect(child)\n          });\n\n          var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n          if (child.thisAnimationDuration) {\n            var childMatrix = matrix(child, true);\n\n            if (childMatrix) {\n              fromRect.top -= childMatrix.f;\n              fromRect.left -= childMatrix.e;\n            }\n          }\n\n          child.fromRect = fromRect;\n        });\n      },\n      addAnimationState: function addAnimationState(state) {\n        animationStates.push(state);\n      },\n      removeAnimationState: function removeAnimationState(target) {\n        animationStates.splice(indexOfObject(animationStates, {\n          target: target\n        }), 1);\n      },\n      animateAll: function animateAll(callback) {\n        var _this = this;\n\n        if (!this.options.animation) {\n          clearTimeout(animationCallbackId);\n          if (typeof callback === 'function') callback();\n          return;\n        }\n\n        var animating = false,\n            animationTime = 0;\n        animationStates.forEach(function (state) {\n          var time = 0,\n              target = state.target,\n              fromRect = target.fromRect,\n              toRect = getRect(target),\n              prevFromRect = target.prevFromRect,\n              prevToRect = target.prevToRect,\n              animatingRect = state.rect,\n              targetMatrix = matrix(target, true);\n\n          if (targetMatrix) {\n            // Compensate for current animation\n            toRect.top -= targetMatrix.f;\n            toRect.left -= targetMatrix.e;\n          }\n\n          target.toRect = toRect;\n\n          if (target.thisAnimationDuration) {\n            // Could also check if animatingRect is between fromRect and toRect\n            if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n            (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n              // If returning to same place as started from animation and on same axis\n              time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n            }\n          } // if fromRect != toRect: animate\n\n\n          if (!isRectEqual(toRect, fromRect)) {\n            target.prevFromRect = fromRect;\n            target.prevToRect = toRect;\n\n            if (!time) {\n              time = _this.options.animation;\n            }\n\n            _this.animate(target, animatingRect, toRect, time);\n          }\n\n          if (time) {\n            animating = true;\n            animationTime = Math.max(animationTime, time);\n            clearTimeout(target.animationResetTimer);\n            target.animationResetTimer = setTimeout(function () {\n              target.animationTime = 0;\n              target.prevFromRect = null;\n              target.fromRect = null;\n              target.prevToRect = null;\n              target.thisAnimationDuration = null;\n            }, time);\n            target.thisAnimationDuration = time;\n          }\n        });\n        clearTimeout(animationCallbackId);\n\n        if (!animating) {\n          if (typeof callback === 'function') callback();\n        } else {\n          animationCallbackId = setTimeout(function () {\n            if (typeof callback === 'function') callback();\n          }, animationTime);\n        }\n\n        animationStates = [];\n      },\n      animate: function animate(target, currentRect, toRect, duration) {\n        if (duration) {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          var elMatrix = matrix(this.el),\n              scaleX = elMatrix && elMatrix.a,\n              scaleY = elMatrix && elMatrix.d,\n              translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n              translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n          target.animatingX = !!translateX;\n          target.animatingY = !!translateY;\n          css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n          this.forRepaintDummy = repaint(target); // repaint\n\n          css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n          css(target, 'transform', 'translate3d(0,0,0)');\n          typeof target.animated === 'number' && clearTimeout(target.animated);\n          target.animated = setTimeout(function () {\n            css(target, 'transition', '');\n            css(target, 'transform', '');\n            target.animated = false;\n            target.animatingX = false;\n            target.animatingY = false;\n          }, duration);\n        }\n      }\n    };\n  }\n\n  function repaint(target) {\n    return target.offsetWidth;\n  }\n\n  function calculateRealTime(animatingRect, fromRect, toRect, options) {\n    return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n  }\n\n  var plugins = [];\n  var defaults = {\n    initializeByDefault: true\n  };\n  var PluginManager = {\n    mount: function mount(plugin) {\n      // Set default static properties\n      for (var option in defaults) {\n        if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n          plugin[option] = defaults[option];\n        }\n      }\n\n      plugins.forEach(function (p) {\n        if (p.pluginName === plugin.pluginName) {\n          throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n        }\n      });\n      plugins.push(plugin);\n    },\n    pluginEvent: function pluginEvent(eventName, sortable, evt) {\n      var _this = this;\n\n      this.eventCanceled = false;\n\n      evt.cancel = function () {\n        _this.eventCanceled = true;\n      };\n\n      var eventNameGlobal = eventName + 'Global';\n      plugins.forEach(function (plugin) {\n        if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n        if (sortable[plugin.pluginName][eventNameGlobal]) {\n          sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n            sortable: sortable\n          }, evt));\n        } // Only fire plugin event if plugin is enabled in this sortable,\n        // and plugin has event defined\n\n\n        if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n          sortable[plugin.pluginName][eventName](_objectSpread2({\n            sortable: sortable\n          }, evt));\n        }\n      });\n    },\n    initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n      plugins.forEach(function (plugin) {\n        var pluginName = plugin.pluginName;\n        if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n        var initialized = new plugin(sortable, el, sortable.options);\n        initialized.sortable = sortable;\n        initialized.options = sortable.options;\n        sortable[pluginName] = initialized; // Add default options from plugin\n\n        _extends(defaults, initialized.defaults);\n      });\n\n      for (var option in sortable.options) {\n        if (!sortable.options.hasOwnProperty(option)) continue;\n        var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n        if (typeof modified !== 'undefined') {\n          sortable.options[option] = modified;\n        }\n      }\n    },\n    getEventProperties: function getEventProperties(name, sortable) {\n      var eventProperties = {};\n      plugins.forEach(function (plugin) {\n        if (typeof plugin.eventProperties !== 'function') return;\n\n        _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n      });\n      return eventProperties;\n    },\n    modifyOption: function modifyOption(sortable, name, value) {\n      var modifiedValue;\n      plugins.forEach(function (plugin) {\n        // Plugin must exist on the Sortable\n        if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n        if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n          modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n        }\n      });\n      return modifiedValue;\n    }\n  };\n\n  function dispatchEvent(_ref) {\n    var sortable = _ref.sortable,\n        rootEl = _ref.rootEl,\n        name = _ref.name,\n        targetEl = _ref.targetEl,\n        cloneEl = _ref.cloneEl,\n        toEl = _ref.toEl,\n        fromEl = _ref.fromEl,\n        oldIndex = _ref.oldIndex,\n        newIndex = _ref.newIndex,\n        oldDraggableIndex = _ref.oldDraggableIndex,\n        newDraggableIndex = _ref.newDraggableIndex,\n        originalEvent = _ref.originalEvent,\n        putSortable = _ref.putSortable,\n        extraEventProperties = _ref.extraEventProperties;\n    sortable = sortable || rootEl && rootEl[expando];\n    if (!sortable) return;\n    var evt,\n        options = sortable.options,\n        onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n    if (window.CustomEvent && !IE11OrLess && !Edge) {\n      evt = new CustomEvent(name, {\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      evt = document.createEvent('Event');\n      evt.initEvent(name, true, true);\n    }\n\n    evt.to = toEl || rootEl;\n    evt.from = fromEl || rootEl;\n    evt.item = targetEl || rootEl;\n    evt.clone = cloneEl;\n    evt.oldIndex = oldIndex;\n    evt.newIndex = newIndex;\n    evt.oldDraggableIndex = oldDraggableIndex;\n    evt.newDraggableIndex = newDraggableIndex;\n    evt.originalEvent = originalEvent;\n    evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n    var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n    for (var option in allEventProperties) {\n      evt[option] = allEventProperties[option];\n    }\n\n    if (rootEl) {\n      rootEl.dispatchEvent(evt);\n    }\n\n    if (options[onName]) {\n      options[onName].call(sortable, evt);\n    }\n  }\n\n  var _excluded = [\"evt\"];\n\n  var pluginEvent = function pluginEvent(eventName, sortable) {\n    var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        originalEvent = _ref.evt,\n        data = _objectWithoutProperties(_ref, _excluded);\n\n    PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n      dragEl: dragEl,\n      parentEl: parentEl,\n      ghostEl: ghostEl,\n      rootEl: rootEl,\n      nextEl: nextEl,\n      lastDownEl: lastDownEl,\n      cloneEl: cloneEl,\n      cloneHidden: cloneHidden,\n      dragStarted: moved,\n      putSortable: putSortable,\n      activeSortable: Sortable.active,\n      originalEvent: originalEvent,\n      oldIndex: oldIndex,\n      oldDraggableIndex: oldDraggableIndex,\n      newIndex: newIndex,\n      newDraggableIndex: newDraggableIndex,\n      hideGhostForTarget: _hideGhostForTarget,\n      unhideGhostForTarget: _unhideGhostForTarget,\n      cloneNowHidden: function cloneNowHidden() {\n        cloneHidden = true;\n      },\n      cloneNowShown: function cloneNowShown() {\n        cloneHidden = false;\n      },\n      dispatchSortableEvent: function dispatchSortableEvent(name) {\n        _dispatchEvent({\n          sortable: sortable,\n          name: name,\n          originalEvent: originalEvent\n        });\n      }\n    }, data));\n  };\n\n  function _dispatchEvent(info) {\n    dispatchEvent(_objectSpread2({\n      putSortable: putSortable,\n      cloneEl: cloneEl,\n      targetEl: dragEl,\n      rootEl: rootEl,\n      oldIndex: oldIndex,\n      oldDraggableIndex: oldDraggableIndex,\n      newIndex: newIndex,\n      newDraggableIndex: newDraggableIndex\n    }, info));\n  }\n\n  var dragEl,\n      parentEl,\n      ghostEl,\n      rootEl,\n      nextEl,\n      lastDownEl,\n      cloneEl,\n      cloneHidden,\n      oldIndex,\n      newIndex,\n      oldDraggableIndex,\n      newDraggableIndex,\n      activeGroup,\n      putSortable,\n      awaitingDragStarted = false,\n      ignoreNextClick = false,\n      sortables = [],\n      tapEvt,\n      touchEvt,\n      lastDx,\n      lastDy,\n      tapDistanceLeft,\n      tapDistanceTop,\n      moved,\n      lastTarget,\n      lastDirection,\n      pastFirstInvertThresh = false,\n      isCircumstantialInvert = false,\n      targetMoveDistance,\n      // For positioning ghost absolutely\n  ghostRelativeParent,\n      ghostRelativeParentInitialScroll = [],\n      // (left, top)\n  _silent = false,\n      savedInputChecked = [];\n  /** @const */\n\n  var documentExists = typeof document !== 'undefined',\n      PositionGhostAbsolutely = IOS,\n      CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n      // This will not pass for IE9, because IE9 DnD only works on anchors\n  supportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n      supportCssPointerEvents = function () {\n    if (!documentExists) return; // false when <= IE11\n\n    if (IE11OrLess) {\n      return false;\n    }\n\n    var el = document.createElement('x');\n    el.style.cssText = 'pointer-events:auto';\n    return el.style.pointerEvents === 'auto';\n  }(),\n      _detectDirection = function _detectDirection(el, options) {\n    var elCSS = css(el),\n        elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n        child1 = getChild(el, 0, options),\n        child2 = getChild(el, 1, options),\n        firstChildCSS = child1 && css(child1),\n        secondChildCSS = child2 && css(child2),\n        firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n        secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n    if (elCSS.display === 'flex') {\n      return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n    }\n\n    if (elCSS.display === 'grid') {\n      return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n    }\n\n    if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n      var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n      return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n    }\n\n    return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n  },\n      _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n    var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n        dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n        dragElOppLength = vertical ? dragRect.width : dragRect.height,\n        targetS1Opp = vertical ? targetRect.left : targetRect.top,\n        targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n        targetOppLength = vertical ? targetRect.width : targetRect.height;\n    return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n  },\n\n  /**\n   * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n   * @param  {Number} x      X position\n   * @param  {Number} y      Y position\n   * @return {HTMLElement}   Element of the first found nearest Sortable\n   */\n  _detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n    var ret;\n    sortables.some(function (sortable) {\n      var threshold = sortable[expando].options.emptyInsertThreshold;\n      if (!threshold || lastChild(sortable)) return;\n      var rect = getRect(sortable),\n          insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n          insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n      if (insideHorizontally && insideVertically) {\n        return ret = sortable;\n      }\n    });\n    return ret;\n  },\n      _prepareGroup = function _prepareGroup(options) {\n    function toFn(value, pull) {\n      return function (to, from, dragEl, evt) {\n        var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n        if (value == null && (pull || sameGroup)) {\n          // Default pull value\n          // Default pull and put value if same group\n          return true;\n        } else if (value == null || value === false) {\n          return false;\n        } else if (pull && value === 'clone') {\n          return value;\n        } else if (typeof value === 'function') {\n          return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n        } else {\n          var otherGroup = (pull ? to : from).options.group.name;\n          return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n        }\n      };\n    }\n\n    var group = {};\n    var originalGroup = options.group;\n\n    if (!originalGroup || _typeof(originalGroup) != 'object') {\n      originalGroup = {\n        name: originalGroup\n      };\n    }\n\n    group.name = originalGroup.name;\n    group.checkPull = toFn(originalGroup.pull, true);\n    group.checkPut = toFn(originalGroup.put);\n    group.revertClone = originalGroup.revertClone;\n    options.group = group;\n  },\n      _hideGhostForTarget = function _hideGhostForTarget() {\n    if (!supportCssPointerEvents && ghostEl) {\n      css(ghostEl, 'display', 'none');\n    }\n  },\n      _unhideGhostForTarget = function _unhideGhostForTarget() {\n    if (!supportCssPointerEvents && ghostEl) {\n      css(ghostEl, 'display', '');\n    }\n  }; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\n  if (documentExists) {\n    document.addEventListener('click', function (evt) {\n      if (ignoreNextClick) {\n        evt.preventDefault();\n        evt.stopPropagation && evt.stopPropagation();\n        evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n        ignoreNextClick = false;\n        return false;\n      }\n    }, true);\n  }\n\n  var nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n    if (dragEl) {\n      evt = evt.touches ? evt.touches[0] : evt;\n\n      var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n      if (nearest) {\n        // Create imitation event\n        var event = {};\n\n        for (var i in evt) {\n          if (evt.hasOwnProperty(i)) {\n            event[i] = evt[i];\n          }\n        }\n\n        event.target = event.rootEl = nearest;\n        event.preventDefault = void 0;\n        event.stopPropagation = void 0;\n\n        nearest[expando]._onDragOver(event);\n      }\n    }\n  };\n\n  var _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n    if (dragEl) {\n      dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n    }\n  };\n  /**\n   * @class  Sortable\n   * @param  {HTMLElement}  el\n   * @param  {Object}       [options]\n   */\n\n\n  function Sortable(el, options) {\n    if (!(el && el.nodeType && el.nodeType === 1)) {\n      throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n    }\n\n    this.el = el; // root element\n\n    this.options = options = _extends({}, options); // Export instance\n\n    el[expando] = this;\n    var defaults = {\n      group: null,\n      sort: true,\n      disabled: false,\n      store: null,\n      handle: null,\n      draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n      swapThreshold: 1,\n      // percentage; 0 <= x <= 1\n      invertSwap: false,\n      // invert always\n      invertedSwapThreshold: null,\n      // will be set to same as swapThreshold if default\n      removeCloneOnHide: true,\n      direction: function direction() {\n        return _detectDirection(el, this.options);\n      },\n      ghostClass: 'sortable-ghost',\n      chosenClass: 'sortable-chosen',\n      dragClass: 'sortable-drag',\n      ignore: 'a, img',\n      filter: null,\n      preventOnFilter: true,\n      animation: 0,\n      easing: null,\n      setData: function setData(dataTransfer, dragEl) {\n        dataTransfer.setData('Text', dragEl.textContent);\n      },\n      dropBubble: false,\n      dragoverBubble: false,\n      dataIdAttr: 'data-id',\n      delay: 0,\n      delayOnTouchOnly: false,\n      touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n      forceFallback: false,\n      fallbackClass: 'sortable-fallback',\n      fallbackOnBody: false,\n      fallbackTolerance: 0,\n      fallbackOffset: {\n        x: 0,\n        y: 0\n      },\n      supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n      emptyInsertThreshold: 5\n    };\n    PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n    for (var name in defaults) {\n      !(name in options) && (options[name] = defaults[name]);\n    }\n\n    _prepareGroup(options); // Bind all private methods\n\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    } // Setup drag mode\n\n\n    this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n    if (this.nativeDraggable) {\n      // Touch start threshold cannot be greater than the native dragstart threshold\n      this.options.touchStartThreshold = 1;\n    } // Bind events\n\n\n    if (options.supportPointer) {\n      on(el, 'pointerdown', this._onTapStart);\n    } else {\n      on(el, 'mousedown', this._onTapStart);\n      on(el, 'touchstart', this._onTapStart);\n    }\n\n    if (this.nativeDraggable) {\n      on(el, 'dragover', this);\n      on(el, 'dragenter', this);\n    }\n\n    sortables.push(this.el); // Restore sorting\n\n    options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n    _extends(this, AnimationStateManager());\n  }\n\n  Sortable.prototype =\n  /** @lends Sortable.prototype */\n  {\n    constructor: Sortable,\n    _isOutsideThisEl: function _isOutsideThisEl(target) {\n      if (!this.el.contains(target) && target !== this.el) {\n        lastTarget = null;\n      }\n    },\n    _getDirection: function _getDirection(evt, target) {\n      return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n    },\n    _onTapStart: function _onTapStart(\n    /** Event|TouchEvent */\n    evt) {\n      if (!evt.cancelable) return;\n\n      var _this = this,\n          el = this.el,\n          options = this.options,\n          preventOnFilter = options.preventOnFilter,\n          type = evt.type,\n          touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n          target = (touch || evt).target,\n          originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n          filter = options.filter;\n\n      _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n      if (dragEl) {\n        return;\n      }\n\n      if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n        return; // only left button and enabled\n      } // cancel dnd if original target is content editable\n\n\n      if (originalTarget.isContentEditable) {\n        return;\n      } // Safari ignores further event handling after mousedown\n\n\n      if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n        return;\n      }\n\n      target = closest(target, options.draggable, el, false);\n\n      if (target && target.animated) {\n        return;\n      }\n\n      if (lastDownEl === target) {\n        // Ignoring duplicate `down`\n        return;\n      } // Get the index of the dragged element within its parent\n\n\n      oldIndex = index(target);\n      oldDraggableIndex = index(target, options.draggable); // Check filter\n\n      if (typeof filter === 'function') {\n        if (filter.call(this, evt, target, this)) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: originalTarget,\n            name: 'filter',\n            targetEl: target,\n            toEl: el,\n            fromEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          preventOnFilter && evt.cancelable && evt.preventDefault();\n          return; // cancel dnd\n        }\n      } else if (filter) {\n        filter = filter.split(',').some(function (criteria) {\n          criteria = closest(originalTarget, criteria.trim(), el, false);\n\n          if (criteria) {\n            _dispatchEvent({\n              sortable: _this,\n              rootEl: criteria,\n              name: 'filter',\n              targetEl: target,\n              fromEl: el,\n              toEl: el\n            });\n\n            pluginEvent('filter', _this, {\n              evt: evt\n            });\n            return true;\n          }\n        });\n\n        if (filter) {\n          preventOnFilter && evt.cancelable && evt.preventDefault();\n          return; // cancel dnd\n        }\n      }\n\n      if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n        return;\n      } // Prepare `dragstart`\n\n\n      this._prepareDragStart(evt, touch, target);\n    },\n    _prepareDragStart: function _prepareDragStart(\n    /** Event */\n    evt,\n    /** Touch */\n    touch,\n    /** HTMLElement */\n    target) {\n      var _this = this,\n          el = _this.el,\n          options = _this.options,\n          ownerDocument = el.ownerDocument,\n          dragStartFn;\n\n      if (target && !dragEl && target.parentNode === el) {\n        var dragRect = getRect(target);\n        rootEl = el;\n        dragEl = target;\n        parentEl = dragEl.parentNode;\n        nextEl = dragEl.nextSibling;\n        lastDownEl = target;\n        activeGroup = options.group;\n        Sortable.dragged = dragEl;\n        tapEvt = {\n          target: dragEl,\n          clientX: (touch || evt).clientX,\n          clientY: (touch || evt).clientY\n        };\n        tapDistanceLeft = tapEvt.clientX - dragRect.left;\n        tapDistanceTop = tapEvt.clientY - dragRect.top;\n        this._lastX = (touch || evt).clientX;\n        this._lastY = (touch || evt).clientY;\n        dragEl.style['will-change'] = 'all';\n\n        dragStartFn = function dragStartFn() {\n          pluginEvent('delayEnded', _this, {\n            evt: evt\n          });\n\n          if (Sortable.eventCanceled) {\n            _this._onDrop();\n\n            return;\n          } // Delayed drag has been triggered\n          // we can re-enable the events: touchmove/mousemove\n\n\n          _this._disableDelayedDragEvents();\n\n          if (!FireFox && _this.nativeDraggable) {\n            dragEl.draggable = true;\n          } // Bind the events: dragstart/dragend\n\n\n          _this._triggerDragStart(evt, touch); // Drag start event\n\n\n          _dispatchEvent({\n            sortable: _this,\n            name: 'choose',\n            originalEvent: evt\n          }); // Chosen item\n\n\n          toggleClass(dragEl, options.chosenClass, true);\n        }; // Disable \"draggable\"\n\n\n        options.ignore.split(',').forEach(function (criteria) {\n          find(dragEl, criteria.trim(), _disableDraggable);\n        });\n        on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n        on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n        on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n        on(ownerDocument, 'mouseup', _this._onDrop);\n        on(ownerDocument, 'touchend', _this._onDrop);\n        on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n        if (FireFox && this.nativeDraggable) {\n          this.options.touchStartThreshold = 4;\n          dragEl.draggable = true;\n        }\n\n        pluginEvent('delayStart', this, {\n          evt: evt\n        }); // Delay is impossible for native DnD in Edge or IE\n\n        if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n          if (Sortable.eventCanceled) {\n            this._onDrop();\n\n            return;\n          } // If the user moves the pointer or let go the click or touch\n          // before the delay has been reached:\n          // disable the delayed drag\n\n\n          on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n          on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n          on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n          on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n          on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n          options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n          _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n        } else {\n          dragStartFn();\n        }\n      }\n    },\n    _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n    /** TouchEvent|PointerEvent **/\n    e) {\n      var touch = e.touches ? e.touches[0] : e;\n\n      if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n        this._disableDelayedDrag();\n      }\n    },\n    _disableDelayedDrag: function _disableDelayedDrag() {\n      dragEl && _disableDraggable(dragEl);\n      clearTimeout(this._dragStartTimer);\n\n      this._disableDelayedDragEvents();\n    },\n    _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n      var ownerDocument = this.el.ownerDocument;\n      off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n      off(ownerDocument, 'touchend', this._disableDelayedDrag);\n      off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n      off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n      off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n      off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n    },\n    _triggerDragStart: function _triggerDragStart(\n    /** Event */\n    evt,\n    /** Touch */\n    touch) {\n      touch = touch || evt.pointerType == 'touch' && evt;\n\n      if (!this.nativeDraggable || touch) {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._onTouchMove);\n        } else if (touch) {\n          on(document, 'touchmove', this._onTouchMove);\n        } else {\n          on(document, 'mousemove', this._onTouchMove);\n        }\n      } else {\n        on(dragEl, 'dragend', this);\n        on(rootEl, 'dragstart', this._onDragStart);\n      }\n\n      try {\n        if (document.selection) {\n          // Timeout neccessary for IE9\n          _nextTick(function () {\n            document.selection.empty();\n          });\n        } else {\n          window.getSelection().removeAllRanges();\n        }\n      } catch (err) {}\n    },\n    _dragStarted: function _dragStarted(fallback, evt) {\n\n      awaitingDragStarted = false;\n\n      if (rootEl && dragEl) {\n        pluginEvent('dragStarted', this, {\n          evt: evt\n        });\n\n        if (this.nativeDraggable) {\n          on(document, 'dragover', _checkOutsideTargetEl);\n        }\n\n        var options = this.options; // Apply effect\n\n        !fallback && toggleClass(dragEl, options.dragClass, false);\n        toggleClass(dragEl, options.ghostClass, true);\n        Sortable.active = this;\n        fallback && this._appendGhost(); // Drag start event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'start',\n          originalEvent: evt\n        });\n      } else {\n        this._nulling();\n      }\n    },\n    _emulateDragOver: function _emulateDragOver() {\n      if (touchEvt) {\n        this._lastX = touchEvt.clientX;\n        this._lastY = touchEvt.clientY;\n\n        _hideGhostForTarget();\n\n        var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        var parent = target;\n\n        while (target && target.shadowRoot) {\n          target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n          if (target === parent) break;\n          parent = target;\n        }\n\n        dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n        if (parent) {\n          do {\n            if (parent[expando]) {\n              var inserted = void 0;\n              inserted = parent[expando]._onDragOver({\n                clientX: touchEvt.clientX,\n                clientY: touchEvt.clientY,\n                target: target,\n                rootEl: parent\n              });\n\n              if (inserted && !this.options.dragoverBubble) {\n                break;\n              }\n            }\n\n            target = parent; // store last element\n          }\n          /* jshint boss:true */\n          while (parent = parent.parentNode);\n        }\n\n        _unhideGhostForTarget();\n      }\n    },\n    _onTouchMove: function _onTouchMove(\n    /**TouchEvent*/\n    evt) {\n      if (tapEvt) {\n        var options = this.options,\n            fallbackTolerance = options.fallbackTolerance,\n            fallbackOffset = options.fallbackOffset,\n            touch = evt.touches ? evt.touches[0] : evt,\n            ghostMatrix = ghostEl && matrix(ghostEl, true),\n            scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n            scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n            relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n            dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n            dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n        if (!Sortable.active && !awaitingDragStarted) {\n          if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n            return;\n          }\n\n          this._onDragStart(evt, true);\n        }\n\n        if (ghostEl) {\n          if (ghostMatrix) {\n            ghostMatrix.e += dx - (lastDx || 0);\n            ghostMatrix.f += dy - (lastDy || 0);\n          } else {\n            ghostMatrix = {\n              a: 1,\n              b: 0,\n              c: 0,\n              d: 1,\n              e: dx,\n              f: dy\n            };\n          }\n\n          var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n          css(ghostEl, 'webkitTransform', cssMatrix);\n          css(ghostEl, 'mozTransform', cssMatrix);\n          css(ghostEl, 'msTransform', cssMatrix);\n          css(ghostEl, 'transform', cssMatrix);\n          lastDx = dx;\n          lastDy = dy;\n          touchEvt = touch;\n        }\n\n        evt.cancelable && evt.preventDefault();\n      }\n    },\n    _appendGhost: function _appendGhost() {\n      // Bug if using scale(): https://stackoverflow.com/questions/2637058\n      // Not being adjusted for\n      if (!ghostEl) {\n        var container = this.options.fallbackOnBody ? document.body : rootEl,\n            rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n            options = this.options; // Position absolutely\n\n        if (PositionGhostAbsolutely) {\n          // Get relatively positioned parent\n          ghostRelativeParent = container;\n\n          while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n            ghostRelativeParent = ghostRelativeParent.parentNode;\n          }\n\n          if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n            if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n            rect.top += ghostRelativeParent.scrollTop;\n            rect.left += ghostRelativeParent.scrollLeft;\n          } else {\n            ghostRelativeParent = getWindowScrollingElement();\n          }\n\n          ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n        }\n\n        ghostEl = dragEl.cloneNode(true);\n        toggleClass(ghostEl, options.ghostClass, false);\n        toggleClass(ghostEl, options.fallbackClass, true);\n        toggleClass(ghostEl, options.dragClass, true);\n        css(ghostEl, 'transition', '');\n        css(ghostEl, 'transform', '');\n        css(ghostEl, 'box-sizing', 'border-box');\n        css(ghostEl, 'margin', 0);\n        css(ghostEl, 'top', rect.top);\n        css(ghostEl, 'left', rect.left);\n        css(ghostEl, 'width', rect.width);\n        css(ghostEl, 'height', rect.height);\n        css(ghostEl, 'opacity', '0.8');\n        css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n        css(ghostEl, 'zIndex', '100000');\n        css(ghostEl, 'pointerEvents', 'none');\n        Sortable.ghost = ghostEl;\n        container.appendChild(ghostEl); // Set transform-origin\n\n        css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n      }\n    },\n    _onDragStart: function _onDragStart(\n    /**Event*/\n    evt,\n    /**boolean*/\n    fallback) {\n      var _this = this;\n\n      var dataTransfer = evt.dataTransfer;\n      var options = _this.options;\n      pluginEvent('dragStart', this, {\n        evt: evt\n      });\n\n      if (Sortable.eventCanceled) {\n        this._onDrop();\n\n        return;\n      }\n\n      pluginEvent('setupClone', this);\n\n      if (!Sortable.eventCanceled) {\n        cloneEl = clone(dragEl);\n        cloneEl.draggable = false;\n        cloneEl.style['will-change'] = '';\n\n        this._hideClone();\n\n        toggleClass(cloneEl, this.options.chosenClass, false);\n        Sortable.clone = cloneEl;\n      } // #1143: IFrame support workaround\n\n\n      _this.cloneId = _nextTick(function () {\n        pluginEvent('clone', _this);\n        if (Sortable.eventCanceled) return;\n\n        if (!_this.options.removeCloneOnHide) {\n          rootEl.insertBefore(cloneEl, dragEl);\n        }\n\n        _this._hideClone();\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'clone'\n        });\n      });\n      !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n      if (fallback) {\n        ignoreNextClick = true;\n        _this._loopId = setInterval(_this._emulateDragOver, 50);\n      } else {\n        // Undo what was set in _prepareDragStart before drag started\n        off(document, 'mouseup', _this._onDrop);\n        off(document, 'touchend', _this._onDrop);\n        off(document, 'touchcancel', _this._onDrop);\n\n        if (dataTransfer) {\n          dataTransfer.effectAllowed = 'move';\n          options.setData && options.setData.call(_this, dataTransfer, dragEl);\n        }\n\n        on(document, 'drop', _this); // #1276 fix:\n\n        css(dragEl, 'transform', 'translateZ(0)');\n      }\n\n      awaitingDragStarted = true;\n      _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n      on(document, 'selectstart', _this);\n      moved = true;\n\n      if (Safari) {\n        css(document.body, 'user-select', 'none');\n      }\n    },\n    // Returns true - if no further action is needed (either inserted or another condition)\n    _onDragOver: function _onDragOver(\n    /**Event*/\n    evt) {\n      var el = this.el,\n          target = evt.target,\n          dragRect,\n          targetRect,\n          revert,\n          options = this.options,\n          group = options.group,\n          activeSortable = Sortable.active,\n          isOwner = activeGroup === group,\n          canSort = options.sort,\n          fromSortable = putSortable || activeSortable,\n          vertical,\n          _this = this,\n          completedFired = false;\n\n      if (_silent) return;\n\n      function dragOverEvent(name, extra) {\n        pluginEvent(name, _this, _objectSpread2({\n          evt: evt,\n          isOwner: isOwner,\n          axis: vertical ? 'vertical' : 'horizontal',\n          revert: revert,\n          dragRect: dragRect,\n          targetRect: targetRect,\n          canSort: canSort,\n          fromSortable: fromSortable,\n          target: target,\n          completed: completed,\n          onMove: function onMove(target, after) {\n            return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n          },\n          changed: changed\n        }, extra));\n      } // Capture animation state\n\n\n      function capture() {\n        dragOverEvent('dragOverAnimationCapture');\n\n        _this.captureAnimationState();\n\n        if (_this !== fromSortable) {\n          fromSortable.captureAnimationState();\n        }\n      } // Return invocation when dragEl is inserted (or completed)\n\n\n      function completed(insertion) {\n        dragOverEvent('dragOverCompleted', {\n          insertion: insertion\n        });\n\n        if (insertion) {\n          // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n          if (isOwner) {\n            activeSortable._hideClone();\n          } else {\n            activeSortable._showClone(_this);\n          }\n\n          if (_this !== fromSortable) {\n            // Set ghost class to new sortable's ghost class\n            toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n            toggleClass(dragEl, options.ghostClass, true);\n          }\n\n          if (putSortable !== _this && _this !== Sortable.active) {\n            putSortable = _this;\n          } else if (_this === Sortable.active && putSortable) {\n            putSortable = null;\n          } // Animation\n\n\n          if (fromSortable === _this) {\n            _this._ignoreWhileAnimating = target;\n          }\n\n          _this.animateAll(function () {\n            dragOverEvent('dragOverAnimationComplete');\n            _this._ignoreWhileAnimating = null;\n          });\n\n          if (_this !== fromSortable) {\n            fromSortable.animateAll();\n            fromSortable._ignoreWhileAnimating = null;\n          }\n        } // Null lastTarget if it is not inside a previously swapped element\n\n\n        if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n          lastTarget = null;\n        } // no bubbling and not fallback\n\n\n        if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n          dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n          !insertion && nearestEmptyInsertDetectEvent(evt);\n        }\n\n        !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n        return completedFired = true;\n      } // Call when dragEl has been inserted\n\n\n      function changed() {\n        newIndex = index(dragEl);\n        newDraggableIndex = index(dragEl, options.draggable);\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'change',\n          toEl: el,\n          newIndex: newIndex,\n          newDraggableIndex: newDraggableIndex,\n          originalEvent: evt\n        });\n      }\n\n      if (evt.preventDefault !== void 0) {\n        evt.cancelable && evt.preventDefault();\n      }\n\n      target = closest(target, options.draggable, el, true);\n      dragOverEvent('dragOver');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n        return completed(false);\n      }\n\n      ignoreNextClick = false;\n\n      if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n      : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n        vertical = this._getDirection(evt, target) === 'vertical';\n        dragRect = getRect(dragEl);\n        dragOverEvent('dragOverValid');\n        if (Sortable.eventCanceled) return completedFired;\n\n        if (revert) {\n          parentEl = rootEl; // actualization\n\n          capture();\n\n          this._hideClone();\n\n          dragOverEvent('revert');\n\n          if (!Sortable.eventCanceled) {\n            if (nextEl) {\n              rootEl.insertBefore(dragEl, nextEl);\n            } else {\n              rootEl.appendChild(dragEl);\n            }\n          }\n\n          return completed(true);\n        }\n\n        var elLastChild = lastChild(el, options.draggable);\n\n        if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n          // Insert to end of list\n          // If already at end of list: Do not insert\n          if (elLastChild === dragEl) {\n            return completed(false);\n          } // if there is a last element, it is the target\n\n\n          if (elLastChild && el === evt.target) {\n            target = elLastChild;\n          }\n\n          if (target) {\n            targetRect = getRect(target);\n          }\n\n          if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n            capture();\n            el.appendChild(dragEl);\n            parentEl = el; // actualization\n\n            changed();\n            return completed(true);\n          }\n        } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n          // Insert to start of list\n          var firstChild = getChild(el, 0, options, true);\n\n          if (firstChild === dragEl) {\n            return completed(false);\n          }\n\n          target = firstChild;\n          targetRect = getRect(target);\n\n          if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n            capture();\n            el.insertBefore(dragEl, firstChild);\n            parentEl = el; // actualization\n\n            changed();\n            return completed(true);\n          }\n        } else if (target.parentNode === el) {\n          targetRect = getRect(target);\n          var direction = 0,\n              targetBeforeFirstSwap,\n              differentLevel = dragEl.parentNode !== el,\n              differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n              side1 = vertical ? 'top' : 'left',\n              scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n              scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n          if (lastTarget !== target) {\n            targetBeforeFirstSwap = targetRect[side1];\n            pastFirstInvertThresh = false;\n            isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n          }\n\n          direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n          var sibling;\n\n          if (direction !== 0) {\n            // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n            var dragIndex = index(dragEl);\n\n            do {\n              dragIndex -= direction;\n              sibling = parentEl.children[dragIndex];\n            } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n          } // If dragEl is already beside target: Do not insert\n\n\n          if (direction === 0 || sibling === target) {\n            return completed(false);\n          }\n\n          lastTarget = target;\n          lastDirection = direction;\n          var nextSibling = target.nextElementSibling,\n              after = false;\n          after = direction === 1;\n\n          var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n          if (moveVector !== false) {\n            if (moveVector === 1 || moveVector === -1) {\n              after = moveVector === 1;\n            }\n\n            _silent = true;\n            setTimeout(_unsilent, 30);\n            capture();\n\n            if (after && !nextSibling) {\n              el.appendChild(dragEl);\n            } else {\n              target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n            } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n            if (scrolledPastTop) {\n              scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n            }\n\n            parentEl = dragEl.parentNode; // actualization\n            // must be done before animation\n\n            if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n              targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n            }\n\n            changed();\n            return completed(true);\n          }\n        }\n\n        if (el.contains(dragEl)) {\n          return completed(false);\n        }\n      }\n\n      return false;\n    },\n    _ignoreWhileAnimating: null,\n    _offMoveEvents: function _offMoveEvents() {\n      off(document, 'mousemove', this._onTouchMove);\n      off(document, 'touchmove', this._onTouchMove);\n      off(document, 'pointermove', this._onTouchMove);\n      off(document, 'dragover', nearestEmptyInsertDetectEvent);\n      off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n      off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n    },\n    _offUpEvents: function _offUpEvents() {\n      var ownerDocument = this.el.ownerDocument;\n      off(ownerDocument, 'mouseup', this._onDrop);\n      off(ownerDocument, 'touchend', this._onDrop);\n      off(ownerDocument, 'pointerup', this._onDrop);\n      off(ownerDocument, 'touchcancel', this._onDrop);\n      off(document, 'selectstart', this);\n    },\n    _onDrop: function _onDrop(\n    /**Event*/\n    evt) {\n      var el = this.el,\n          options = this.options; // Get the index of the dragged element within its parent\n\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n      pluginEvent('drop', this, {\n        evt: evt\n      });\n      parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      if (Sortable.eventCanceled) {\n        this._nulling();\n\n        return;\n      }\n\n      awaitingDragStarted = false;\n      isCircumstantialInvert = false;\n      pastFirstInvertThresh = false;\n      clearInterval(this._loopId);\n      clearTimeout(this._dragStartTimer);\n\n      _cancelNextTick(this.cloneId);\n\n      _cancelNextTick(this._dragStartId); // Unbind events\n\n\n      if (this.nativeDraggable) {\n        off(document, 'drop', this);\n        off(el, 'dragstart', this._onDragStart);\n      }\n\n      this._offMoveEvents();\n\n      this._offUpEvents();\n\n      if (Safari) {\n        css(document.body, 'user-select', '');\n      }\n\n      css(dragEl, 'transform', '');\n\n      if (evt) {\n        if (moved) {\n          evt.cancelable && evt.preventDefault();\n          !options.dropBubble && evt.stopPropagation();\n        }\n\n        ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n        if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n          // Remove clone(s)\n          cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n        }\n\n        if (dragEl) {\n          if (this.nativeDraggable) {\n            off(dragEl, 'dragend', this);\n          }\n\n          _disableDraggable(dragEl);\n\n          dragEl.style['will-change'] = ''; // Remove classes\n          // ghostClass is added in dragStarted\n\n          if (moved && !awaitingDragStarted) {\n            toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n          }\n\n          toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'unchoose',\n            toEl: parentEl,\n            newIndex: null,\n            newDraggableIndex: null,\n            originalEvent: evt\n          });\n\n          if (rootEl !== parentEl) {\n            if (newIndex >= 0) {\n              // Add event\n              _dispatchEvent({\n                rootEl: parentEl,\n                name: 'add',\n                toEl: parentEl,\n                fromEl: rootEl,\n                originalEvent: evt\n              }); // Remove event\n\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'remove',\n                toEl: parentEl,\n                originalEvent: evt\n              }); // drag from one list and drop into another\n\n\n              _dispatchEvent({\n                rootEl: parentEl,\n                name: 'sort',\n                toEl: parentEl,\n                fromEl: rootEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n\n            putSortable && putSortable.save();\n          } else {\n            if (newIndex !== oldIndex) {\n              if (newIndex >= 0) {\n                // drag & drop within the same list\n                _dispatchEvent({\n                  sortable: this,\n                  name: 'update',\n                  toEl: parentEl,\n                  originalEvent: evt\n                });\n\n                _dispatchEvent({\n                  sortable: this,\n                  name: 'sort',\n                  toEl: parentEl,\n                  originalEvent: evt\n                });\n              }\n            }\n          }\n\n          if (Sortable.active) {\n            /* jshint eqnull:true */\n            if (newIndex == null || newIndex === -1) {\n              newIndex = oldIndex;\n              newDraggableIndex = oldDraggableIndex;\n            }\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'end',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // Save sorting\n\n\n            this.save();\n          }\n        }\n      }\n\n      this._nulling();\n    },\n    _nulling: function _nulling() {\n      pluginEvent('nulling', this);\n      rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n      savedInputChecked.forEach(function (el) {\n        el.checked = true;\n      });\n      savedInputChecked.length = lastDx = lastDy = 0;\n    },\n    handleEvent: function handleEvent(\n    /**Event*/\n    evt) {\n      switch (evt.type) {\n        case 'drop':\n        case 'dragend':\n          this._onDrop(evt);\n\n          break;\n\n        case 'dragenter':\n        case 'dragover':\n          if (dragEl) {\n            this._onDragOver(evt);\n\n            _globalDragOver(evt);\n          }\n\n          break;\n\n        case 'selectstart':\n          evt.preventDefault();\n          break;\n      }\n    },\n\n    /**\n     * Serializes the item into an array of string.\n     * @returns {String[]}\n     */\n    toArray: function toArray() {\n      var order = [],\n          el,\n          children = this.el.children,\n          i = 0,\n          n = children.length,\n          options = this.options;\n\n      for (; i < n; i++) {\n        el = children[i];\n\n        if (closest(el, options.draggable, this.el, false)) {\n          order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n        }\n      }\n\n      return order;\n    },\n\n    /**\n     * Sorts the elements according to the array.\n     * @param  {String[]}  order  order of the items\n     */\n    sort: function sort(order, useAnimation) {\n      var items = {},\n          rootEl = this.el;\n      this.toArray().forEach(function (id, i) {\n        var el = rootEl.children[i];\n\n        if (closest(el, this.options.draggable, rootEl, false)) {\n          items[id] = el;\n        }\n      }, this);\n      useAnimation && this.captureAnimationState();\n      order.forEach(function (id) {\n        if (items[id]) {\n          rootEl.removeChild(items[id]);\n          rootEl.appendChild(items[id]);\n        }\n      });\n      useAnimation && this.animateAll();\n    },\n\n    /**\n     * Save the current sorting\n     */\n    save: function save() {\n      var store = this.options.store;\n      store && store.set && store.set(this);\n    },\n\n    /**\n     * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n     * @param   {HTMLElement}  el\n     * @param   {String}       [selector]  default: `options.draggable`\n     * @returns {HTMLElement|null}\n     */\n    closest: function closest$1(el, selector) {\n      return closest(el, selector || this.options.draggable, this.el, false);\n    },\n\n    /**\n     * Set/get option\n     * @param   {string} name\n     * @param   {*}      [value]\n     * @returns {*}\n     */\n    option: function option(name, value) {\n      var options = this.options;\n\n      if (value === void 0) {\n        return options[name];\n      } else {\n        var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n        if (typeof modifiedValue !== 'undefined') {\n          options[name] = modifiedValue;\n        } else {\n          options[name] = value;\n        }\n\n        if (name === 'group') {\n          _prepareGroup(options);\n        }\n      }\n    },\n\n    /**\n     * Destroy\n     */\n    destroy: function destroy() {\n      pluginEvent('destroy', this);\n      var el = this.el;\n      el[expando] = null;\n      off(el, 'mousedown', this._onTapStart);\n      off(el, 'touchstart', this._onTapStart);\n      off(el, 'pointerdown', this._onTapStart);\n\n      if (this.nativeDraggable) {\n        off(el, 'dragover', this);\n        off(el, 'dragenter', this);\n      } // Remove draggable attributes\n\n\n      Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n        el.removeAttribute('draggable');\n      });\n\n      this._onDrop();\n\n      this._disableDelayedDragEvents();\n\n      sortables.splice(sortables.indexOf(this.el), 1);\n      this.el = el = null;\n    },\n    _hideClone: function _hideClone() {\n      if (!cloneHidden) {\n        pluginEvent('hideClone', this);\n        if (Sortable.eventCanceled) return;\n        css(cloneEl, 'display', 'none');\n\n        if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n          cloneEl.parentNode.removeChild(cloneEl);\n        }\n\n        cloneHidden = true;\n      }\n    },\n    _showClone: function _showClone(putSortable) {\n      if (putSortable.lastPutMode !== 'clone') {\n        this._hideClone();\n\n        return;\n      }\n\n      if (cloneHidden) {\n        pluginEvent('showClone', this);\n        if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n        if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n          rootEl.insertBefore(cloneEl, dragEl);\n        } else if (nextEl) {\n          rootEl.insertBefore(cloneEl, nextEl);\n        } else {\n          rootEl.appendChild(cloneEl);\n        }\n\n        if (this.options.group.revertClone) {\n          this.animate(dragEl, cloneEl);\n        }\n\n        css(cloneEl, 'display', '');\n        cloneHidden = false;\n      }\n    }\n  };\n\n  function _globalDragOver(\n  /**Event*/\n  evt) {\n    if (evt.dataTransfer) {\n      evt.dataTransfer.dropEffect = 'move';\n    }\n\n    evt.cancelable && evt.preventDefault();\n  }\n\n  function _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n    var evt,\n        sortable = fromEl[expando],\n        onMoveFn = sortable.options.onMove,\n        retVal; // Support for new CustomEvent feature\n\n    if (window.CustomEvent && !IE11OrLess && !Edge) {\n      evt = new CustomEvent('move', {\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      evt = document.createEvent('Event');\n      evt.initEvent('move', true, true);\n    }\n\n    evt.to = toEl;\n    evt.from = fromEl;\n    evt.dragged = dragEl;\n    evt.draggedRect = dragRect;\n    evt.related = targetEl || toEl;\n    evt.relatedRect = targetRect || getRect(toEl);\n    evt.willInsertAfter = willInsertAfter;\n    evt.originalEvent = originalEvent;\n    fromEl.dispatchEvent(evt);\n\n    if (onMoveFn) {\n      retVal = onMoveFn.call(sortable, evt, originalEvent);\n    }\n\n    return retVal;\n  }\n\n  function _disableDraggable(el) {\n    el.draggable = false;\n  }\n\n  function _unsilent() {\n    _silent = false;\n  }\n\n  function _ghostIsFirst(evt, vertical, sortable) {\n    var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n    var spacer = 10;\n    return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n  }\n\n  function _ghostIsLast(evt, vertical, sortable) {\n    var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n    var spacer = 10;\n    return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n  }\n\n  function _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n    var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n        targetLength = vertical ? targetRect.height : targetRect.width,\n        targetS1 = vertical ? targetRect.top : targetRect.left,\n        targetS2 = vertical ? targetRect.bottom : targetRect.right,\n        invert = false;\n\n    if (!invertSwap) {\n      // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n      if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n        // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n        // check if past first invert threshold on side opposite of lastDirection\n        if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n          // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n          pastFirstInvertThresh = true;\n        }\n\n        if (!pastFirstInvertThresh) {\n          // dragEl shadow (target move distance shadow)\n          if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n          : mouseOnAxis > targetS2 - targetMoveDistance) {\n            return -lastDirection;\n          }\n        } else {\n          invert = true;\n        }\n      } else {\n        // Regular\n        if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n          return _getInsertDirection(target);\n        }\n      }\n    }\n\n    invert = invert || invertSwap;\n\n    if (invert) {\n      // Invert of regular\n      if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n        return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n      }\n    }\n\n    return 0;\n  }\n  /**\n   * Gets the direction dragEl must be swapped relative to target in order to make it\n   * seem that dragEl has been \"inserted\" into that element's position\n   * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n   * @return {Number}                   Direction dragEl must be swapped\n   */\n\n\n  function _getInsertDirection(target) {\n    if (index(dragEl) < index(target)) {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n  /**\n   * Generate id\n   * @param   {HTMLElement} el\n   * @returns {String}\n   * @private\n   */\n\n\n  function _generateId(el) {\n    var str = el.tagName + el.className + el.src + el.href + el.textContent,\n        i = str.length,\n        sum = 0;\n\n    while (i--) {\n      sum += str.charCodeAt(i);\n    }\n\n    return sum.toString(36);\n  }\n\n  function _saveInputCheckedState(root) {\n    savedInputChecked.length = 0;\n    var inputs = root.getElementsByTagName('input');\n    var idx = inputs.length;\n\n    while (idx--) {\n      var el = inputs[idx];\n      el.checked && savedInputChecked.push(el);\n    }\n  }\n\n  function _nextTick(fn) {\n    return setTimeout(fn, 0);\n  }\n\n  function _cancelNextTick(id) {\n    return clearTimeout(id);\n  } // Fixed #973:\n\n\n  if (documentExists) {\n    on(document, 'touchmove', function (evt) {\n      if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n        evt.preventDefault();\n      }\n    });\n  } // Export utils\n\n\n  Sortable.utils = {\n    on: on,\n    off: off,\n    css: css,\n    find: find,\n    is: function is(el, selector) {\n      return !!closest(el, selector, el, false);\n    },\n    extend: extend,\n    throttle: throttle,\n    closest: closest,\n    toggleClass: toggleClass,\n    clone: clone,\n    index: index,\n    nextTick: _nextTick,\n    cancelNextTick: _cancelNextTick,\n    detectDirection: _detectDirection,\n    getChild: getChild\n  };\n  /**\n   * Get the Sortable instance of an element\n   * @param  {HTMLElement} element The element\n   * @return {Sortable|undefined}         The instance of Sortable\n   */\n\n  Sortable.get = function (element) {\n    return element[expando];\n  };\n  /**\n   * Mount a plugin to Sortable\n   * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n   */\n\n\n  Sortable.mount = function () {\n    for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n      plugins[_key] = arguments[_key];\n    }\n\n    if (plugins[0].constructor === Array) plugins = plugins[0];\n    plugins.forEach(function (plugin) {\n      if (!plugin.prototype || !plugin.prototype.constructor) {\n        throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n      }\n\n      if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n      PluginManager.mount(plugin);\n    });\n  };\n  /**\n   * Create sortable instance\n   * @param {HTMLElement}  el\n   * @param {Object}      [options]\n   */\n\n\n  Sortable.create = function (el, options) {\n    return new Sortable(el, options);\n  }; // Export\n\n\n  Sortable.version = version;\n\n  var autoScrolls = [],\n      scrollEl,\n      scrollRootEl,\n      scrolling = false,\n      lastAutoScrollX,\n      lastAutoScrollY,\n      touchEvt$1,\n      pointerElemChangedInterval;\n\n  function AutoScrollPlugin() {\n    function AutoScroll() {\n      this.defaults = {\n        scroll: true,\n        forceAutoScrollFallback: false,\n        scrollSensitivity: 30,\n        scrollSpeed: 10,\n        bubbleScroll: true\n      }; // Bind all private methods\n\n      for (var fn in this) {\n        if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n          this[fn] = this[fn].bind(this);\n        }\n      }\n    }\n\n    AutoScroll.prototype = {\n      dragStarted: function dragStarted(_ref) {\n        var originalEvent = _ref.originalEvent;\n\n        if (this.sortable.nativeDraggable) {\n          on(document, 'dragover', this._handleAutoScroll);\n        } else {\n          if (this.options.supportPointer) {\n            on(document, 'pointermove', this._handleFallbackAutoScroll);\n          } else if (originalEvent.touches) {\n            on(document, 'touchmove', this._handleFallbackAutoScroll);\n          } else {\n            on(document, 'mousemove', this._handleFallbackAutoScroll);\n          }\n        }\n      },\n      dragOverCompleted: function dragOverCompleted(_ref2) {\n        var originalEvent = _ref2.originalEvent;\n\n        // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n        if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n          this._handleAutoScroll(originalEvent);\n        }\n      },\n      drop: function drop() {\n        if (this.sortable.nativeDraggable) {\n          off(document, 'dragover', this._handleAutoScroll);\n        } else {\n          off(document, 'pointermove', this._handleFallbackAutoScroll);\n          off(document, 'touchmove', this._handleFallbackAutoScroll);\n          off(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n\n        clearPointerElemChangedInterval();\n        clearAutoScrolls();\n        cancelThrottle();\n      },\n      nulling: function nulling() {\n        touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n        autoScrolls.length = 0;\n      },\n      _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n        this._handleAutoScroll(evt, true);\n      },\n      _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n        var _this = this;\n\n        var x = (evt.touches ? evt.touches[0] : evt).clientX,\n            y = (evt.touches ? evt.touches[0] : evt).clientY,\n            elem = document.elementFromPoint(x, y);\n        touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n        // Edge's autoscroll seems too conditional,\n        // MACOS Safari does not have autoscroll,\n        // Firefox and Chrome are good\n\n        if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n          autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n          var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n          if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n            pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n            pointerElemChangedInterval = setInterval(function () {\n              var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n              if (newElem !== ogElemScroller) {\n                ogElemScroller = newElem;\n                clearAutoScrolls();\n              }\n\n              autoScroll(evt, _this.options, newElem, fallback);\n            }, 10);\n            lastAutoScrollX = x;\n            lastAutoScrollY = y;\n          }\n        } else {\n          // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n          if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n            clearAutoScrolls();\n            return;\n          }\n\n          autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n        }\n      }\n    };\n    return _extends(AutoScroll, {\n      pluginName: 'scroll',\n      initializeByDefault: true\n    });\n  }\n\n  function clearAutoScrolls() {\n    autoScrolls.forEach(function (autoScroll) {\n      clearInterval(autoScroll.pid);\n    });\n    autoScrolls = [];\n  }\n\n  function clearPointerElemChangedInterval() {\n    clearInterval(pointerElemChangedInterval);\n  }\n\n  var autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n    // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n    if (!options.scroll) return;\n    var x = (evt.touches ? evt.touches[0] : evt).clientX,\n        y = (evt.touches ? evt.touches[0] : evt).clientY,\n        sens = options.scrollSensitivity,\n        speed = options.scrollSpeed,\n        winScroller = getWindowScrollingElement();\n    var scrollThisInstance = false,\n        scrollCustomFn; // New scroll root, set scrollEl\n\n    if (scrollRootEl !== rootEl) {\n      scrollRootEl = rootEl;\n      clearAutoScrolls();\n      scrollEl = options.scroll;\n      scrollCustomFn = options.scrollFn;\n\n      if (scrollEl === true) {\n        scrollEl = getParentAutoScrollElement(rootEl, true);\n      }\n    }\n\n    var layersOut = 0;\n    var currentParent = scrollEl;\n\n    do {\n      var el = currentParent,\n          rect = getRect(el),\n          top = rect.top,\n          bottom = rect.bottom,\n          left = rect.left,\n          right = rect.right,\n          width = rect.width,\n          height = rect.height,\n          canScrollX = void 0,\n          canScrollY = void 0,\n          scrollWidth = el.scrollWidth,\n          scrollHeight = el.scrollHeight,\n          elCSS = css(el),\n          scrollPosX = el.scrollLeft,\n          scrollPosY = el.scrollTop;\n\n      if (el === winScroller) {\n        canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n        canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n      } else {\n        canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n        canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n      }\n\n      var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n      var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n      if (!autoScrolls[layersOut]) {\n        for (var i = 0; i <= layersOut; i++) {\n          if (!autoScrolls[i]) {\n            autoScrolls[i] = {};\n          }\n        }\n      }\n\n      if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n        autoScrolls[layersOut].el = el;\n        autoScrolls[layersOut].vx = vx;\n        autoScrolls[layersOut].vy = vy;\n        clearInterval(autoScrolls[layersOut].pid);\n\n        if (vx != 0 || vy != 0) {\n          scrollThisInstance = true;\n          /* jshint loopfunc:true */\n\n          autoScrolls[layersOut].pid = setInterval(function () {\n            // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n            if (isFallback && this.layer === 0) {\n              Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n            }\n\n            var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n            var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n            if (typeof scrollCustomFn === 'function') {\n              if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n                return;\n              }\n            }\n\n            scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n          }.bind({\n            layer: layersOut\n          }), 24);\n        }\n      }\n\n      layersOut++;\n    } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n    scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n  }, 30);\n\n  var drop = function drop(_ref) {\n    var originalEvent = _ref.originalEvent,\n        putSortable = _ref.putSortable,\n        dragEl = _ref.dragEl,\n        activeSortable = _ref.activeSortable,\n        dispatchSortableEvent = _ref.dispatchSortableEvent,\n        hideGhostForTarget = _ref.hideGhostForTarget,\n        unhideGhostForTarget = _ref.unhideGhostForTarget;\n    if (!originalEvent) return;\n    var toSortable = putSortable || activeSortable;\n    hideGhostForTarget();\n    var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n    var target = document.elementFromPoint(touch.clientX, touch.clientY);\n    unhideGhostForTarget();\n\n    if (toSortable && !toSortable.el.contains(target)) {\n      dispatchSortableEvent('spill');\n      this.onSpill({\n        dragEl: dragEl,\n        putSortable: putSortable\n      });\n    }\n  };\n\n  function Revert() {}\n\n  Revert.prototype = {\n    startIndex: null,\n    dragStart: function dragStart(_ref2) {\n      var oldDraggableIndex = _ref2.oldDraggableIndex;\n      this.startIndex = oldDraggableIndex;\n    },\n    onSpill: function onSpill(_ref3) {\n      var dragEl = _ref3.dragEl,\n          putSortable = _ref3.putSortable;\n      this.sortable.captureAnimationState();\n\n      if (putSortable) {\n        putSortable.captureAnimationState();\n      }\n\n      var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n      if (nextSibling) {\n        this.sortable.el.insertBefore(dragEl, nextSibling);\n      } else {\n        this.sortable.el.appendChild(dragEl);\n      }\n\n      this.sortable.animateAll();\n\n      if (putSortable) {\n        putSortable.animateAll();\n      }\n    },\n    drop: drop\n  };\n\n  _extends(Revert, {\n    pluginName: 'revertOnSpill'\n  });\n\n  function Remove() {}\n\n  Remove.prototype = {\n    onSpill: function onSpill(_ref4) {\n      var dragEl = _ref4.dragEl,\n          putSortable = _ref4.putSortable;\n      var parentSortable = putSortable || this.sortable;\n      parentSortable.captureAnimationState();\n      dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n      parentSortable.animateAll();\n    },\n    drop: drop\n  };\n\n  _extends(Remove, {\n    pluginName: 'removeOnSpill'\n  });\n\n  var lastSwapEl;\n\n  function SwapPlugin() {\n    function Swap() {\n      this.defaults = {\n        swapClass: 'sortable-swap-highlight'\n      };\n    }\n\n    Swap.prototype = {\n      dragStart: function dragStart(_ref) {\n        var dragEl = _ref.dragEl;\n        lastSwapEl = dragEl;\n      },\n      dragOverValid: function dragOverValid(_ref2) {\n        var completed = _ref2.completed,\n            target = _ref2.target,\n            onMove = _ref2.onMove,\n            activeSortable = _ref2.activeSortable,\n            changed = _ref2.changed,\n            cancel = _ref2.cancel;\n        if (!activeSortable.options.swap) return;\n        var el = this.sortable.el,\n            options = this.options;\n\n        if (target && target !== el) {\n          var prevSwapEl = lastSwapEl;\n\n          if (onMove(target) !== false) {\n            toggleClass(target, options.swapClass, true);\n            lastSwapEl = target;\n          } else {\n            lastSwapEl = null;\n          }\n\n          if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n            toggleClass(prevSwapEl, options.swapClass, false);\n          }\n        }\n\n        changed();\n        completed(true);\n        cancel();\n      },\n      drop: function drop(_ref3) {\n        var activeSortable = _ref3.activeSortable,\n            putSortable = _ref3.putSortable,\n            dragEl = _ref3.dragEl;\n        var toSortable = putSortable || this.sortable;\n        var options = this.options;\n        lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n        if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n          if (dragEl !== lastSwapEl) {\n            toSortable.captureAnimationState();\n            if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n            swapNodes(dragEl, lastSwapEl);\n            toSortable.animateAll();\n            if (toSortable !== activeSortable) activeSortable.animateAll();\n          }\n        }\n      },\n      nulling: function nulling() {\n        lastSwapEl = null;\n      }\n    };\n    return _extends(Swap, {\n      pluginName: 'swap',\n      eventProperties: function eventProperties() {\n        return {\n          swapItem: lastSwapEl\n        };\n      }\n    });\n  }\n\n  function swapNodes(n1, n2) {\n    var p1 = n1.parentNode,\n        p2 = n2.parentNode,\n        i1,\n        i2;\n    if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n    i1 = index(n1);\n    i2 = index(n2);\n\n    if (p1.isEqualNode(p2) && i1 < i2) {\n      i2++;\n    }\n\n    p1.insertBefore(n2, p1.children[i1]);\n    p2.insertBefore(n1, p2.children[i2]);\n  }\n\n  var multiDragElements = [],\n      multiDragClones = [],\n      lastMultiDragSelect,\n      // for selection with modifier key down (SHIFT)\n  multiDragSortable,\n      initialFolding = false,\n      // Initial multi-drag fold when drag started\n  folding = false,\n      // Folding any other time\n  dragStarted = false,\n      dragEl$1,\n      clonesFromRect,\n      clonesHidden;\n\n  function MultiDragPlugin() {\n    function MultiDrag(sortable) {\n      // Bind all private methods\n      for (var fn in this) {\n        if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n          this[fn] = this[fn].bind(this);\n        }\n      }\n\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n\n      on(document, 'keydown', this._checkKeyDown);\n      on(document, 'keyup', this._checkKeyUp);\n      this.defaults = {\n        selectedClass: 'sortable-selected',\n        multiDragKey: null,\n        setData: function setData(dataTransfer, dragEl) {\n          var data = '';\n\n          if (multiDragElements.length && multiDragSortable === sortable) {\n            multiDragElements.forEach(function (multiDragElement, i) {\n              data += (!i ? '' : ', ') + multiDragElement.textContent;\n            });\n          } else {\n            data = dragEl.textContent;\n          }\n\n          dataTransfer.setData('Text', data);\n        }\n      };\n    }\n\n    MultiDrag.prototype = {\n      multiDragKeyDown: false,\n      isMultiDrag: false,\n      delayStartGlobal: function delayStartGlobal(_ref) {\n        var dragged = _ref.dragEl;\n        dragEl$1 = dragged;\n      },\n      delayEnded: function delayEnded() {\n        this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n      },\n      setupClone: function setupClone(_ref2) {\n        var sortable = _ref2.sortable,\n            cancel = _ref2.cancel;\n        if (!this.isMultiDrag) return;\n\n        for (var i = 0; i < multiDragElements.length; i++) {\n          multiDragClones.push(clone(multiDragElements[i]));\n          multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n          multiDragClones[i].draggable = false;\n          multiDragClones[i].style['will-change'] = '';\n          toggleClass(multiDragClones[i], this.options.selectedClass, false);\n          multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n        }\n\n        sortable._hideClone();\n\n        cancel();\n      },\n      clone: function clone(_ref3) {\n        var sortable = _ref3.sortable,\n            rootEl = _ref3.rootEl,\n            dispatchSortableEvent = _ref3.dispatchSortableEvent,\n            cancel = _ref3.cancel;\n        if (!this.isMultiDrag) return;\n\n        if (!this.options.removeCloneOnHide) {\n          if (multiDragElements.length && multiDragSortable === sortable) {\n            insertMultiDragClones(true, rootEl);\n            dispatchSortableEvent('clone');\n            cancel();\n          }\n        }\n      },\n      showClone: function showClone(_ref4) {\n        var cloneNowShown = _ref4.cloneNowShown,\n            rootEl = _ref4.rootEl,\n            cancel = _ref4.cancel;\n        if (!this.isMultiDrag) return;\n        insertMultiDragClones(false, rootEl);\n        multiDragClones.forEach(function (clone) {\n          css(clone, 'display', '');\n        });\n        cloneNowShown();\n        clonesHidden = false;\n        cancel();\n      },\n      hideClone: function hideClone(_ref5) {\n        var _this = this;\n\n        var sortable = _ref5.sortable,\n            cloneNowHidden = _ref5.cloneNowHidden,\n            cancel = _ref5.cancel;\n        if (!this.isMultiDrag) return;\n        multiDragClones.forEach(function (clone) {\n          css(clone, 'display', 'none');\n\n          if (_this.options.removeCloneOnHide && clone.parentNode) {\n            clone.parentNode.removeChild(clone);\n          }\n        });\n        cloneNowHidden();\n        clonesHidden = true;\n        cancel();\n      },\n      dragStartGlobal: function dragStartGlobal(_ref6) {\n        var sortable = _ref6.sortable;\n\n        if (!this.isMultiDrag && multiDragSortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n        }\n\n        multiDragElements.forEach(function (multiDragElement) {\n          multiDragElement.sortableIndex = index(multiDragElement);\n        }); // Sort multi-drag elements\n\n        multiDragElements = multiDragElements.sort(function (a, b) {\n          return a.sortableIndex - b.sortableIndex;\n        });\n        dragStarted = true;\n      },\n      dragStarted: function dragStarted(_ref7) {\n        var _this2 = this;\n\n        var sortable = _ref7.sortable;\n        if (!this.isMultiDrag) return;\n\n        if (this.options.sort) {\n          // Capture rects,\n          // hide multi drag elements (by positioning them absolute),\n          // set multi drag elements rects to dragRect,\n          // show multi drag elements,\n          // animate to rects,\n          // unset rects & remove from DOM\n          sortable.captureAnimationState();\n\n          if (this.options.animation) {\n            multiDragElements.forEach(function (multiDragElement) {\n              if (multiDragElement === dragEl$1) return;\n              css(multiDragElement, 'position', 'absolute');\n            });\n            var dragRect = getRect(dragEl$1, false, true, true);\n            multiDragElements.forEach(function (multiDragElement) {\n              if (multiDragElement === dragEl$1) return;\n              setRect(multiDragElement, dragRect);\n            });\n            folding = true;\n            initialFolding = true;\n          }\n        }\n\n        sortable.animateAll(function () {\n          folding = false;\n          initialFolding = false;\n\n          if (_this2.options.animation) {\n            multiDragElements.forEach(function (multiDragElement) {\n              unsetRect(multiDragElement);\n            });\n          } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n          if (_this2.options.sort) {\n            removeMultiDragElements();\n          }\n        });\n      },\n      dragOver: function dragOver(_ref8) {\n        var target = _ref8.target,\n            completed = _ref8.completed,\n            cancel = _ref8.cancel;\n\n        if (folding && ~multiDragElements.indexOf(target)) {\n          completed(false);\n          cancel();\n        }\n      },\n      revert: function revert(_ref9) {\n        var fromSortable = _ref9.fromSortable,\n            rootEl = _ref9.rootEl,\n            sortable = _ref9.sortable,\n            dragRect = _ref9.dragRect;\n\n        if (multiDragElements.length > 1) {\n          // Setup unfold animation\n          multiDragElements.forEach(function (multiDragElement) {\n            sortable.addAnimationState({\n              target: multiDragElement,\n              rect: folding ? getRect(multiDragElement) : dragRect\n            });\n            unsetRect(multiDragElement);\n            multiDragElement.fromRect = dragRect;\n            fromSortable.removeAnimationState(multiDragElement);\n          });\n          folding = false;\n          insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n        }\n      },\n      dragOverCompleted: function dragOverCompleted(_ref10) {\n        var sortable = _ref10.sortable,\n            isOwner = _ref10.isOwner,\n            insertion = _ref10.insertion,\n            activeSortable = _ref10.activeSortable,\n            parentEl = _ref10.parentEl,\n            putSortable = _ref10.putSortable;\n        var options = this.options;\n\n        if (insertion) {\n          // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n          if (isOwner) {\n            activeSortable._hideClone();\n          }\n\n          initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n          if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n            // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n            var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n            multiDragElements.forEach(function (multiDragElement) {\n              if (multiDragElement === dragEl$1) return;\n              setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n              // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n              parentEl.appendChild(multiDragElement);\n            });\n            folding = true;\n          } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n          if (!isOwner) {\n            // Only remove if not folding (folding will remove them anyways)\n            if (!folding) {\n              removeMultiDragElements();\n            }\n\n            if (multiDragElements.length > 1) {\n              var clonesHiddenBefore = clonesHidden;\n\n              activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n              if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n                multiDragClones.forEach(function (clone) {\n                  activeSortable.addAnimationState({\n                    target: clone,\n                    rect: clonesFromRect\n                  });\n                  clone.fromRect = clonesFromRect;\n                  clone.thisAnimationDuration = null;\n                });\n              }\n            } else {\n              activeSortable._showClone(sortable);\n            }\n          }\n        }\n      },\n      dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n        var dragRect = _ref11.dragRect,\n            isOwner = _ref11.isOwner,\n            activeSortable = _ref11.activeSortable;\n        multiDragElements.forEach(function (multiDragElement) {\n          multiDragElement.thisAnimationDuration = null;\n        });\n\n        if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n          clonesFromRect = _extends({}, dragRect);\n          var dragMatrix = matrix(dragEl$1, true);\n          clonesFromRect.top -= dragMatrix.f;\n          clonesFromRect.left -= dragMatrix.e;\n        }\n      },\n      dragOverAnimationComplete: function dragOverAnimationComplete() {\n        if (folding) {\n          folding = false;\n          removeMultiDragElements();\n        }\n      },\n      drop: function drop(_ref12) {\n        var evt = _ref12.originalEvent,\n            rootEl = _ref12.rootEl,\n            parentEl = _ref12.parentEl,\n            sortable = _ref12.sortable,\n            dispatchSortableEvent = _ref12.dispatchSortableEvent,\n            oldIndex = _ref12.oldIndex,\n            putSortable = _ref12.putSortable;\n        var toSortable = putSortable || this.sortable;\n        if (!evt) return;\n        var options = this.options,\n            children = parentEl.children; // Multi-drag selection\n\n        if (!dragStarted) {\n          if (options.multiDragKey && !this.multiDragKeyDown) {\n            this._deselectMultiDrag();\n          }\n\n          toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n          if (!~multiDragElements.indexOf(dragEl$1)) {\n            multiDragElements.push(dragEl$1);\n            dispatchEvent({\n              sortable: sortable,\n              rootEl: rootEl,\n              name: 'select',\n              targetEl: dragEl$1,\n              originalEvt: evt\n            }); // Modifier activated, select from last to dragEl\n\n            if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n              var lastIndex = index(lastMultiDragSelect),\n                  currentIndex = index(dragEl$1);\n\n              if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n                // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n                // (but previous selection existed)\n                var n, i;\n\n                if (currentIndex > lastIndex) {\n                  i = lastIndex;\n                  n = currentIndex;\n                } else {\n                  i = currentIndex;\n                  n = lastIndex + 1;\n                }\n\n                for (; i < n; i++) {\n                  if (~multiDragElements.indexOf(children[i])) continue;\n                  toggleClass(children[i], options.selectedClass, true);\n                  multiDragElements.push(children[i]);\n                  dispatchEvent({\n                    sortable: sortable,\n                    rootEl: rootEl,\n                    name: 'select',\n                    targetEl: children[i],\n                    originalEvt: evt\n                  });\n                }\n              }\n            } else {\n              lastMultiDragSelect = dragEl$1;\n            }\n\n            multiDragSortable = toSortable;\n          } else {\n            multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n            lastMultiDragSelect = null;\n            dispatchEvent({\n              sortable: sortable,\n              rootEl: rootEl,\n              name: 'deselect',\n              targetEl: dragEl$1,\n              originalEvt: evt\n            });\n          }\n        } // Multi-drag drop\n\n\n        if (dragStarted && this.isMultiDrag) {\n          folding = false; // Do not \"unfold\" after around dragEl if reverted\n\n          if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n            var dragRect = getRect(dragEl$1),\n                multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n            if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n            toSortable.captureAnimationState();\n\n            if (!initialFolding) {\n              if (options.animation) {\n                dragEl$1.fromRect = dragRect;\n                multiDragElements.forEach(function (multiDragElement) {\n                  multiDragElement.thisAnimationDuration = null;\n\n                  if (multiDragElement !== dragEl$1) {\n                    var rect = folding ? getRect(multiDragElement) : dragRect;\n                    multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                    toSortable.addAnimationState({\n                      target: multiDragElement,\n                      rect: rect\n                    });\n                  }\n                });\n              } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n              // properly they must all be removed\n\n\n              removeMultiDragElements();\n              multiDragElements.forEach(function (multiDragElement) {\n                if (children[multiDragIndex]) {\n                  parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n                } else {\n                  parentEl.appendChild(multiDragElement);\n                }\n\n                multiDragIndex++;\n              }); // If initial folding is done, the elements may have changed position because they are now\n              // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n              // must be fired here as Sortable will not.\n\n              if (oldIndex === index(dragEl$1)) {\n                var update = false;\n                multiDragElements.forEach(function (multiDragElement) {\n                  if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                    update = true;\n                    return;\n                  }\n                });\n\n                if (update) {\n                  dispatchSortableEvent('update');\n                }\n              }\n            } // Must be done after capturing individual rects (scroll bar)\n\n\n            multiDragElements.forEach(function (multiDragElement) {\n              unsetRect(multiDragElement);\n            });\n            toSortable.animateAll();\n          }\n\n          multiDragSortable = toSortable;\n        } // Remove clones if necessary\n\n\n        if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n          multiDragClones.forEach(function (clone) {\n            clone.parentNode && clone.parentNode.removeChild(clone);\n          });\n        }\n      },\n      nullingGlobal: function nullingGlobal() {\n        this.isMultiDrag = dragStarted = false;\n        multiDragClones.length = 0;\n      },\n      destroyGlobal: function destroyGlobal() {\n        this._deselectMultiDrag();\n\n        off(document, 'pointerup', this._deselectMultiDrag);\n        off(document, 'mouseup', this._deselectMultiDrag);\n        off(document, 'touchend', this._deselectMultiDrag);\n        off(document, 'keydown', this._checkKeyDown);\n        off(document, 'keyup', this._checkKeyUp);\n      },\n      _deselectMultiDrag: function _deselectMultiDrag(evt) {\n        if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n        if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n        if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n        if (evt && evt.button !== 0) return;\n\n        while (multiDragElements.length) {\n          var el = multiDragElements[0];\n          toggleClass(el, this.options.selectedClass, false);\n          multiDragElements.shift();\n          dispatchEvent({\n            sortable: this.sortable,\n            rootEl: this.sortable.el,\n            name: 'deselect',\n            targetEl: el,\n            originalEvt: evt\n          });\n        }\n      },\n      _checkKeyDown: function _checkKeyDown(evt) {\n        if (evt.key === this.options.multiDragKey) {\n          this.multiDragKeyDown = true;\n        }\n      },\n      _checkKeyUp: function _checkKeyUp(evt) {\n        if (evt.key === this.options.multiDragKey) {\n          this.multiDragKeyDown = false;\n        }\n      }\n    };\n    return _extends(MultiDrag, {\n      // Static methods & properties\n      pluginName: 'multiDrag',\n      utils: {\n        /**\n         * Selects the provided multi-drag item\n         * @param  {HTMLElement} el    The element to be selected\n         */\n        select: function select(el) {\n          var sortable = el.parentNode[expando];\n          if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n          if (multiDragSortable && multiDragSortable !== sortable) {\n            multiDragSortable.multiDrag._deselectMultiDrag();\n\n            multiDragSortable = sortable;\n          }\n\n          toggleClass(el, sortable.options.selectedClass, true);\n          multiDragElements.push(el);\n        },\n\n        /**\n         * Deselects the provided multi-drag item\n         * @param  {HTMLElement} el    The element to be deselected\n         */\n        deselect: function deselect(el) {\n          var sortable = el.parentNode[expando],\n              index = multiDragElements.indexOf(el);\n          if (!sortable || !sortable.options.multiDrag || !~index) return;\n          toggleClass(el, sortable.options.selectedClass, false);\n          multiDragElements.splice(index, 1);\n        }\n      },\n      eventProperties: function eventProperties() {\n        var _this3 = this;\n\n        var oldIndicies = [],\n            newIndicies = [];\n        multiDragElements.forEach(function (multiDragElement) {\n          oldIndicies.push({\n            multiDragElement: multiDragElement,\n            index: multiDragElement.sortableIndex\n          }); // multiDragElements will already be sorted if folding\n\n          var newIndex;\n\n          if (folding && multiDragElement !== dragEl$1) {\n            newIndex = -1;\n          } else if (folding) {\n            newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n          } else {\n            newIndex = index(multiDragElement);\n          }\n\n          newIndicies.push({\n            multiDragElement: multiDragElement,\n            index: newIndex\n          });\n        });\n        return {\n          items: _toConsumableArray(multiDragElements),\n          clones: [].concat(multiDragClones),\n          oldIndicies: oldIndicies,\n          newIndicies: newIndicies\n        };\n      },\n      optionListeners: {\n        multiDragKey: function multiDragKey(key) {\n          key = key.toLowerCase();\n\n          if (key === 'ctrl') {\n            key = 'Control';\n          } else if (key.length > 1) {\n            key = key.charAt(0).toUpperCase() + key.substr(1);\n          }\n\n          return key;\n        }\n      }\n    });\n  }\n\n  function insertMultiDragElements(clonesInserted, rootEl) {\n    multiDragElements.forEach(function (multiDragElement, i) {\n      var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n      if (target) {\n        rootEl.insertBefore(multiDragElement, target);\n      } else {\n        rootEl.appendChild(multiDragElement);\n      }\n    });\n  }\n  /**\n   * Insert multi-drag clones\n   * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\n   * @param  {HTMLElement} rootEl\n   */\n\n\n  function insertMultiDragClones(elementsInserted, rootEl) {\n    multiDragClones.forEach(function (clone, i) {\n      var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n      if (target) {\n        rootEl.insertBefore(clone, target);\n      } else {\n        rootEl.appendChild(clone);\n      }\n    });\n  }\n\n  function removeMultiDragElements() {\n    multiDragElements.forEach(function (multiDragElement) {\n      if (multiDragElement === dragEl$1) return;\n      multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n    });\n  }\n\n  Sortable.mount(new AutoScrollPlugin());\n  Sortable.mount(Remove, Revert);\n\n  Sortable.mount(new SwapPlugin());\n  Sortable.mount(new MultiDragPlugin());\n\n  return Sortable;\n\n})));\n"]}